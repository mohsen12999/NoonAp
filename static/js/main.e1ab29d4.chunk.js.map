{"version":3,"sources":["reducers/app.ts","components/pages/mainPage/page-cart.tsx","actions/actionTypes.ts","actions/shop.ts","actions/shopActions.ts","components/pages/mainPage/main.tsx","components/pages/notFound.tsx","components/pages/about.tsx","components/pages/product.tsx","components/headers/mini-header.tsx","reducers/shop.ts","components/headers/big-header.tsx","components/headers/main-header.tsx","components/pages/soon.tsx","components/pages/address.tsx","components/pages/checkout.tsx","components/pages/comeback.tsx","components/pages/marketsPage/market-cart.tsx","components/pages/marketsPage/market.tsx","components/App.tsx","serviceWorker.ts","reducers/appReducer.ts","reducers/shopReducer.ts","reducers/rootReducer.ts","store/configureStore.tsx","index.tsx"],"names":["AppPages","useStyles","makeStyles","theme","card","display","details","flexDirection","content","flex","cover","width","backgroundSize","controls","alignItems","paddingLeft","spacing","paddingBottom","playIcon","height","persianfont","fontFamily","PageCart","title","subtitle","img","classes","Card","className","CardMedia","image","process","CardContent","Typography","component","variant","color","ActionTypes","INITIAL_APPSTATE","tabId","pageId","pageName","MAIN","pageTitle","offline","MakeMarketPlus","markets","opentimes","date","Date","dayofweek","getDay","hour","getHours","getMinutes","map","m","mp","ot","filter","t","Number","markets_id","id","dayNumber","startTime","endTime","isOpen","undefined","length","loadData","dispatch","type","TRY_LOADING_INIT","fetch","method","then","res","json","error","result","console","log","FAILED_LOAD_INIT","payload","info","groups","g","enabled","freeDeliver","express_send","future_send","takeout","reserve","future_takeout","marketPlus","openTimes","SUCCESS_LOAD_INIT","products","catch","root","flexGrow","grid","paddingTop","littleGrid","cursor","paper","padding","textAlign","palette","text","secondary","link","textDecoration","progress","margin","progressDiv","marginTop","yekanFont","mapDispatchToProps","changePage","url","push","connect","State","app","loadingDbInfo","shop","loadDbInfo","prop","React","useEffect","Container","maxWidth","CircularProgress","Button","onClick","Grid","container","justify","group","key","item","xs","sm","MARKET","SOON","persianTitle","persianSubtitle","createStyles","myFont","NotFound","Paper","mainTitle","companyLink","href","overflowX","table","tableCell","imgCell","cellImg","button","float","addToCart","event","productId","marketId","stopPropagation","ADD_TO_CART","removeFromCart","REMOVE_FROM_CART","cart","match","params","productsPlus","p","count","totalPrice","reduce","sum","price","Table","TableHead","TableRow","TableCell","align","TableBody","product","src","alt","scope","Math","trunc","max","Fab","size","aria-label","colSpan","ADDRESS","extendedIcon","deliverKindType","menuButton","marginLeft","list","fullList","menuTitle","side","useState","top","left","bottom","right","state","setState","toggleDrawer","open","AppBar","position","Toolbar","IconButton","edge","Drawer","anchor","onClose","role","onKeyDown","List","ListItem","ListItemIcon","ListItemText","primary","Divider","ABOUT","tab","titleImg","verticalAlign","value","setValue","Tabs","onChange","newValue","indicatorColor","textColor","centered","Tab","label","MainHeader","window","innerWidth","isMobile","setIsMobile","addEventListener","btn","INITIAL_SHOPSTATE","deliver","deliverKind","deliverDistrict","fullname","address","mobile","moment","loadingInfo","loadingLocation","lastMarketId","loadOrder","order","orderDetails","deliverKindPersian","dk","deliverKindPersianst","st","flexWrap","textField","dense","menu","marginRight","textField2","selectFormControl","pickerGrid","datepicker","direction","timepicker","closeSpan","ChangeDeliverKind","CHANGE_DELIVERKIND","ChangeDeliverDistrict","CHANGE_DELIVERDISTRICT","ChangeMobile","CHANGE_MOBILE","ChangeFullname","CHANGE_FULLNAME","ChangeAddress","CHANGE_ADDRESS","ChangeDate","isValid","CHANGE_DATE","ChangeTime","CHANGE_TIME","LoadUserInfo","TRY_LOADING_USER_INFO","FAILED_LOAD_USER_INFO","customer","SUCCESS_LOAD_USER_INFO","name","district","LoadLocation","TRY_LOADING_LOCATION","navigator","geolocation","getCurrentPosition","crd","coords","latitude","longitude","headers","status","SUCCESS_LOAD_LOCATION","location","FAILED_LOAD_LOCATION","MakeOrder","TRY_MAKING_ORDER","send_info","datedate","toDate","datest","format","body","JSON","stringify","FAILED_MAKE_ORDER","SUCCESS_MAKE_ORDER","CHECKOUT","loadingOrder","market","find","jMoment","loadPersian","dialect","usePersianDigits","FormControl","InputLabel","htmlFor","Select","target","inputProps","MenuItem","disabled","FormHelperText","Fragment","clsx","Input","fullWidth","endAdornment","InputAdornment","onMouseDown","preventDefault","TextField","utils","JalaliUtils","locale","DatePicker","minDate","okLabel","cancelLabel","labelFunc","multiline","addressGrid","orderId","TRY_LOADING_ORDER","FAILED_LOAD_ORDER","sessionStorage","setItem","SUCCESS_LOAD_ORDER","send2Bank","TRY_SENDING_ORDER_TO_BANK","redirect","FAILED_SEND_ORDER_TO_BANK","SUCCESS_SEND_ORDER_TO_BANK","payurl","od","md","verifyBank","token","TRY_VERIFY_BANK","FAILED_VERIFY_BANK","SUCCESS_VERIFY_BANK","transId","search","history","parsed","queryString","parse","getItem","chip","MarketCart","discount","Chip","icon","clickable","groupId","groups_id","PRODUCT","exact","path","Main","About","props","Soon","COMEBACK","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","AppReducer","action","CHANGE_PAGE","newPage","CHANGE_TAB_ID","addId","removeId","quantity","newState","new_date","new_datetime1","set","year","month","new_time","new_datetime2","minute","loadinglocation","ShopReducer","createRootReducer","combineReducers","router","connectRouter","createBrowserHistory","initialState","store","createStore","composeWithDevTools","applyMiddleware","routerMiddleware","thunk","ReactDOM","render","document","getElementById","URL","origin","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e1ab29d4.chunk.js","sourcesContent":["export enum AppPages {\r\n  MAIN = \"main\",\r\n  ABOUT = \"about\",\r\n  MARKET = \"market\",\r\n  PRODUCT = \"product\",\r\n  ADDRESS = \"address\",\r\n  BILL = \"bill\",\r\n  CHECKOUT = \"checkout\",\r\n  COMEBACK = \"comeback\",\r\n  SOON = \"soon\"\r\n}\r\n\r\nexport interface IAppState {\r\n  tabId?: number;\r\n  pageId: number;\r\n  pageName: AppPages;\r\n  pageTitle: string;\r\n  args?: string[];\r\n  offline: boolean;\r\n}\r\n\r\nexport const INITIAL_APPSTATE: IAppState = {\r\n  tabId: 10,\r\n  pageId: 0,\r\n  pageName: AppPages.MAIN,\r\n  pageTitle: \"صفحه اصلی\",\r\n  offline: false\r\n};\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    display: \"flex\"\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  content: {\r\n    flex: \"1 0 auto\"\r\n  },\r\n  cover: {\r\n    width: \"30%\",\r\n    backgroundSize: \"contain\"\r\n  },\r\n  controls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1)\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38\r\n  },\r\n  persianfont: {\r\n    fontFamily: \"Yekan\"\r\n  }\r\n}));\r\n\r\ninterface IPageCartProp {\r\n  title: string;\r\n  subtitle: string;\r\n  img: string;\r\n}\r\n\r\nconst PageCart: React.FC<IPageCartProp> = ({ title, subtitle, img }) => {\r\n  // const PageCart: React.FC = (title: string, subtitle: string, img: string) => {\r\n  const classes = useStyles();\r\n  // const theme = useTheme();\r\n  //console.log(title, subtitle, img);\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        className={classes.cover}\r\n        image={process.env.PUBLIC_URL + img} //\"/images/group/shopping-cart.png\"\r\n        title=\"Live from space album cover\"\r\n      />\r\n\r\n      <div className={classes.details}>\r\n        <CardContent className={classes.content}>\r\n          <Typography\r\n            className={classes.persianfont}\r\n            component=\"h5\"\r\n            variant=\"h5\"\r\n          >\r\n            {title}\r\n          </Typography>\r\n          <Typography\r\n            className={classes.persianfont}\r\n            variant=\"subtitle1\"\r\n            color=\"textSecondary\"\r\n          >\r\n            {subtitle}\r\n          </Typography>\r\n        </CardContent>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PageCart;\r\n\r\n/*\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    maxWidth: \"100%\"\r\n  },\r\n  media: {\r\n    height: 140\r\n  }\r\n});\r\n\r\nexport default function MediaCard() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          // image=\"/images/group/shopping-cart.png\"\r\n          image={process.env.PUBLIC_URL + \"/images/group/shopping-cart.png\"}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            Lizard\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Lizards are a widespread group of squamate reptiles, with over 6,000\r\n            species, ranging across all continents except Antarctica\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}\r\n*/\r\n","export enum ActionTypes {\r\n  CHANGE_PAGE = \"CHANGE_PAGE\",\r\n  CHANGE_TAB_ID = \"CHANGE_TAB_ID\",\r\n\r\n  ADD_TO_CART = \"ADD_TO_CART\",\r\n  REMOVE_FROM_CART = \"REMOVE_FROM_CART\",\r\n\r\n  CHANGE_DELIVERKIND = \"CHANGE_DELIVERKIND\",\r\n  CHANGE_DELIVERDISTRICT = \"CHANGE_DELIVERDISTRICT\",\r\n\r\n  CHANGE_MOBILE = \"CHANGE_MOBILE\",\r\n  CHANGE_FULLNAME = \"CHANGE_FULLNAME\",\r\n  CHANGE_ADDRESS = \"CHANGE_ADDRESS\",\r\n\r\n  CHANGE_DATE = \"CHANGE_DATE\",\r\n  CHANGE_TIME = \"CHANGE_TIME\",\r\n\r\n  // CHANGE_TIME = \"CHANGE_TIME\",\r\n\r\n  // CHANGE_LOCATION = \"CHANGE_LOCATION\",\r\n\r\n  TRY_LOADING_INIT = \"TRY_LOADING_INIT\",\r\n  SUCCESS_LOAD_INIT = \"SUCCESS_LOAD_INIT\",\r\n  FAILED_LOAD_INIT = \"FAILED_LOAD_INIT\",\r\n\r\n  TRY_LOADING_USER_INFO = \"TRY_LOADING_USER_INFO\",\r\n  SUCCESS_LOAD_USER_INFO = \"SUCCESS_LOAD_USER_INFO\",\r\n  FAILED_LOAD_USER_INFO = \"FAILED_LOAD_USER_INFO\",\r\n\r\n  TRY_LOADING_LOCATION = \"TRY_LOADING_LOCATION\",\r\n  SUCCESS_LOAD_LOCATION = \"SUCCESS_LOAD_LOCATION\",\r\n  FAILED_LOAD_LOCATION = \"FAILED_LOAD_LOCATION\",\r\n\r\n  TRY_MAKING_ORDER = \"TRY_MAKING_ORDER\",\r\n  SUCCESS_MAKE_ORDER = \"SUCCESS_MAKE_ORDER\",\r\n  FAILED_MAKE_ORDER = \"FAILED_MAKE_ORDER\",\r\n\r\n  TRY_LOADING_ORDER = \"TRY_LOADING_ORDER\",\r\n  SUCCESS_LOAD_ORDER = \"SUCCESS_LOAD_ORDER\",\r\n  FAILED_LOAD_ORDER = \"FAILED_LOAD_ORDER\",\r\n\r\n  TRY_SENDING_ORDER_TO_BANK = \"TRY_SENDING_ORDER_TO_BANK\",\r\n  SUCCESS_SEND_ORDER_TO_BANK = \"SUCCESS_SEND_ORDER_TO_BANK\",\r\n  FAILED_SEND_ORDER_TO_BANK = \"FAILED_SEND_ORDER_TO_BANK\",\r\n\r\n  TRY_VERIFY_BANK = \"TRY_VERIFY_BANK\",\r\n  SUCCESS_VERIFY_BANK = \"SUCCESS_VERIFY_BANK\",\r\n  FAILED_VERIFY_BANK = \"FAILED_VERIFY_BANK\"\r\n}\r\n","export interface ICustomer {\r\n  id: number;\r\n  mobile: string;\r\n  name: string;\r\n  district: string;\r\n  address: string;\r\n  latitude: number;\r\n  longitude: number;\r\n\r\n  created_at: any;\r\n  updated_at: any;\r\n}\r\n\r\nexport interface IGroup {\r\n  id: number;\r\n  title: string;\r\n  persianTitle: string;\r\n  persianSubtitle?: string;\r\n  img: string;\r\n  enabled: boolean;\r\n\r\n  MarketId: number;\r\n\r\n  created_at: any;\r\n  updated_at: any;\r\n}\r\n\r\nexport interface IMarket {\r\n  id: number;\r\n  title: string;\r\n  persianTitle: string;\r\n  persianSubtitle?: string;\r\n  img: string;\r\n  discount?: number;\r\n\r\n  address?: string;\r\n  description?: string;\r\n\r\n  freeDeliver: boolean;\r\n  enabled: boolean;\r\n\r\n  express_send: boolean;\r\n  future_send: boolean;\r\n  takeout: boolean;\r\n  reserve: boolean;\r\n  future_takeout: boolean;\r\n\r\n  groups_id: number;\r\n\r\n  created_at: any;\r\n  updated_at: any;\r\n}\r\n\r\nexport interface IMarketPlus extends IMarket {\r\n  isOpen: boolean;\r\n}\r\n\r\nexport interface IOpenTime {\r\n  id: number;\r\n  dayName?: string;\r\n\r\n  dayNumber: number;\r\n  startTime: number;\r\n  endTime: number;\r\n\r\n  markets_id: number;\r\n\r\n  created_at: any;\r\n  updated_at: any;\r\n}\r\n\r\nexport interface IProduct {\r\n  id: number;\r\n  title: string;\r\n  persianTitle: string;\r\n  persianSubTitle?: string;\r\n  price: number;\r\n  discount?: number;\r\n  img: string;\r\n  enable: boolean;\r\n  max?: number;\r\n\r\n  markets_id: number;\r\n\r\n  created_at: any;\r\n  updated_at: any;\r\n  // count?: number;\r\n}\r\n\r\nexport interface IProductPlus extends IProduct {\r\n  count?: number;\r\n}\r\n\r\nexport interface IDbInfo {\r\n  groups: IGroup[];\r\n  markets: IMarket[];\r\n  openTimes: IOpenTime[];\r\n  products: IProduct[];\r\n}\r\n\r\nexport const MakeMarketPlus: (\r\n  markets: IMarket[],\r\n  opentimes: IOpenTime[]\r\n) => IMarketPlus[] = (\r\n  markets: IMarket[],\r\n  opentimes: IOpenTime[]\r\n): IMarketPlus[] => {\r\n  const date: Date = new Date();\r\n  const dayofweek: number = date.getDay();\r\n  const hour: number = date.getHours() + date.getMinutes() / 100;\r\n\r\n  return markets.map(m => {\r\n    const mp: IMarketPlus = m as IMarketPlus;\r\n    const ot: IOpenTime[] = opentimes.filter(\r\n      (t: IOpenTime) =>\r\n        Number(t.markets_id) === Number(m.id) &&\r\n        Number(t.dayNumber) === dayofweek &&\r\n        Number(t.startTime) <= hour &&\r\n        hour <= t.endTime\r\n    );\r\n    const isOpen: boolean = ot !== undefined && ot.length > 0;\r\n    return { ...mp, isOpen: isOpen };\r\n  });\r\n};\r\n\r\nexport interface IOrder {\r\n  id: number;\r\n\r\n  mobile: string;\r\n  name: string;\r\n  deliver_time: Date;\r\n  deliver_time_desc: string;\r\n  deliverKind: string;\r\n  address: string;\r\n  district: string;\r\n\r\n  latitude?: number;\r\n  longitude?: number;\r\n\r\n  markets_id: number;\r\n\r\n  price: number;\r\n  payed: boolean;\r\n  bankCode: string;\r\n\r\n  created_at?: any;\r\n  updated_at?: any;\r\n}\r\n\r\nexport interface IOrderDetail {\r\n  id: number;\r\n\r\n  title: string;\r\n  persianTitle: string;\r\n  price: number;\r\n  count: number;\r\n\r\n  product_id: number;\r\n  order_id: number;\r\n\r\n  created_at?: any;\r\n  updated_at?: any;\r\n}\r\n\r\nexport interface IMakeOrder {\r\n  result: boolean;\r\n  id: number;\r\n  order: IOrder;\r\n  orderDetails: IOrderDetail[];\r\n  price: number;\r\n}\r\n","import { ActionTypes } from \"./actionTypes\";\r\nimport { Dispatch } from \"redux\";\r\nimport { Moment } from \"moment-jalaali\";\r\nimport {\r\n  ICustomer,\r\n  IDbInfo,\r\n  IMarketPlus,\r\n  MakeMarketPlus,\r\n  IMakeOrder,\r\n  IGroup,\r\n  IMarket\r\n} from \"./shop\";\r\nimport { IDeliverState, ICartState } from \"../reducers/shop\";\r\nimport { push } from \"connected-react-router\";\r\nimport { AppPages } from \"../reducers/app\";\r\n\r\nexport const addToCart: Function = (\r\n  event: React.MouseEvent<HTMLButtonElement>,\r\n  productId: number,\r\n  marketId: number\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.ADD_TO_CART,\r\n    payload: { productId, marketId }\r\n  });\r\n};\r\n\r\nexport const removeFromCart: Function = (\r\n  event: React.MouseEvent<HTMLButtonElement>,\r\n  productId: number,\r\n  marketId: number\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.REMOVE_FROM_CART,\r\n    payload: { productId, marketId }\r\n  });\r\n};\r\n\r\nexport const ChangeDeliverKind: Function = (\r\n  event: React.ChangeEvent<{ name?: string; value: unknown }>,\r\n  deliverKind: string\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_DELIVERKIND,\r\n    payload: { deliverKind }\r\n  });\r\n};\r\n\r\nexport const ChangeDeliverDistrict: Function = (\r\n  event: React.ChangeEvent<{ name?: string; value: unknown }>,\r\n  deliverDistrict: string\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_DELIVERDISTRICT,\r\n    payload: { deliverDistrict }\r\n  });\r\n};\r\n\r\nexport const ChangeMobile: Function = (\r\n  event: React.ChangeEvent<HTMLInputElement>,\r\n  mobile: string\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_MOBILE,\r\n    payload: { mobile }\r\n  });\r\n};\r\n\r\nexport const ChangeFullname: Function = (\r\n  event: React.ChangeEvent<HTMLButtonElement>,\r\n  fullname: string\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_FULLNAME,\r\n    payload: { fullname }\r\n  });\r\n};\r\n\r\nexport const ChangeAddress: Function = (\r\n  event: React.ChangeEvent<HTMLButtonElement>,\r\n  address: string\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_ADDRESS,\r\n    payload: { address }\r\n  });\r\n};\r\n\r\nexport const ChangeDate: Function = (\r\n  // event: React.MouseEvent<HTMLButtonElement>,\r\n  date: Moment\r\n) => (dispatch: Dispatch) => {\r\n  // event.stopPropagation();\r\n  console.log(date);\r\n  if (date.isValid()) {\r\n    dispatch({\r\n      type: ActionTypes.CHANGE_DATE,\r\n      payload: { date }\r\n    });\r\n  }\r\n};\r\n\r\nexport const ChangeTime: Function = (\r\n  // event: React.MouseEvent<HTMLButtonElement>,\r\n  date: Moment\r\n) => (dispatch: Dispatch) => {\r\n  // event.stopPropagation();\r\n  if (date.isValid()) {\r\n    dispatch({\r\n      type: ActionTypes.CHANGE_TIME,\r\n      payload: { date }\r\n    });\r\n  }\r\n};\r\n\r\nexport const loadData: Function = () => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/markets\";\r\n  // const url: string = \"http://localhost/laravel_api/public/api/markets\";\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_LOADING_INIT\r\n  });\r\n\r\n  fetch(url, { method: \"GET\" })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        console.log(res.error);\r\n        dispatch({\r\n          type: ActionTypes.FAILED_LOAD_INIT,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      const info: IDbInfo = res as IDbInfo;\r\n\r\n      const groups: IGroup = res.groups.map((g: any) => {\r\n        const e: boolean = g.enabled === \"0\" || g.enabled === 0 ? false : true;\r\n        return { ...g, enabled: e };\r\n      });\r\n\r\n      const markets: IMarket[] = info.markets.map((m: any) => {\r\n        const freeDeliver: boolean =\r\n          m.freeDeliver === undefined ||\r\n          m.freeDeliver === 0 ||\r\n          m.freeDeliver === \"0\"\r\n            ? false\r\n            : true;\r\n        const enabled: boolean =\r\n          m.enabled === \"0\" || m.enabled === 0 ? false : true;\r\n        const express_send: boolean =\r\n          m.express_send === \"0\" || m.express_send === 0 ? false : true;\r\n        const future_send: boolean =\r\n          m.future_send === \"0\" || m.future_send === 0 ? false : true;\r\n        const takeout: boolean =\r\n          m.takeout === \"0\" || m.takeout === 0 ? false : true;\r\n        const reserve: boolean =\r\n          m.reserve === \"0\" || m.reserve === 0 ? false : true;\r\n        const future_takeout: boolean =\r\n          m.future_takeout === \"0\" || m.future_takeout === 0 ? false : true;\r\n\r\n        return {\r\n          ...m,\r\n          freeDeliver: freeDeliver,\r\n          enabled: enabled,\r\n          express_send: express_send,\r\n          future_send: future_send,\r\n          takeout: takeout,\r\n          reserve: reserve,\r\n          future_takeout: future_takeout\r\n        };\r\n      });\r\n\r\n      const marketPlus: IMarketPlus[] = MakeMarketPlus(markets, info.openTimes);\r\n\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_LOAD_INIT,\r\n        payload: {\r\n          // info: info,\r\n          // groups: info.groups,\r\n          groups: groups,\r\n          markets: marketPlus,\r\n          openTimes: info.openTimes,\r\n          products: info.products\r\n        }\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      dispatch({\r\n        type: ActionTypes.FAILED_LOAD_INIT,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\nexport const LoadUserInfo: any = (mobile: string) => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/customers/\" + mobile;\r\n  // const url: string = http://localhost/laravel_api/public/api/customers/\" + mobile;\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_LOADING_USER_INFO\r\n  });\r\n\r\n  fetch(url, { method: \"GET\" })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_LOAD_USER_INFO,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      const customer: ICustomer = res.customer;\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_LOAD_USER_INFO,\r\n        payload: {\r\n          fullname: customer.name,\r\n          district: customer.district,\r\n          address: customer.address\r\n        }\r\n      });\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: ActionTypes.FAILED_LOAD_USER_INFO,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\nexport const LoadLocation: any = () => (dispatch: Dispatch) => {\r\n  dispatch({\r\n    type: ActionTypes.TRY_LOADING_LOCATION\r\n  });\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      if (position && position !== undefined) {\r\n        const crd: Coordinates = position.coords;\r\n        const url: string =\r\n          \"https://api.neshan.org/v2/reverse?lat=\" +\r\n          crd.latitude +\r\n          \"&lng=\" +\r\n          crd.longitude;\r\n\r\n        fetch(url, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Api-Key\": \"service.idR8Yra0Ji4A4DHlaIj54K0VUl7kX7DglvojWyjG\"\r\n          }\r\n        })\r\n          .then(res => res.json())\r\n          .then(res => {\r\n            // console.log(res);\r\n            const status: string = res[\"status\"];\r\n            const address: string = res[\"formatted_address\"];\r\n            if (\r\n              status !== undefined &&\r\n              status === \"OK\" &&\r\n              address !== undefined\r\n            ) {\r\n              dispatch({\r\n                type: ActionTypes.SUCCESS_LOAD_LOCATION,\r\n                payload: {\r\n                  address: address,\r\n                  location: position\r\n                }\r\n              });\r\n            } else {\r\n              dispatch({\r\n                type: ActionTypes.FAILED_LOAD_LOCATION,\r\n                payload: { error: status }\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            dispatch({\r\n              type: ActionTypes.FAILED_LOAD_LOCATION,\r\n              payload: { error }\r\n            });\r\n          });\r\n      } else {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_LOAD_LOCATION,\r\n          payload: { error: \"position \" + position }\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    dispatch({\r\n      type: ActionTypes.FAILED_LOAD_LOCATION,\r\n      payload: { error: \"navigator.geolocation \" + navigator.geolocation }\r\n    });\r\n  }\r\n\r\n  // if (navigator.geolocation) {\r\n  //   navigator.geolocation.getCurrentPosition((position)=> {\r\n  //     if(position && position !== undefined) {\r\n  //       const crd:Coordinates = position.coords;\r\n  //       const url: string = \"https://api.neshan.org/v2/reverse?lat=\" + crd.latitude + \"&lng=\" + crd.longitude;\r\n  //       fetch(url, {\r\n  //         method: \"GET\",\r\n  //         headers: { \"Api-Key\": \"service.idR8Yra0Ji4A4DHlaIj54K0VUl7kX7DglvojWyjG\" }\r\n  //     }).then(res => res.json()).then((res:any)=>{\r\n  //       const status: string = res[\"status\"];\r\n  //       const address: string = res[\"formatted_address\"];\r\n  //       if(status !== undefined && status === \"OK\" && address !== undefined) {\r\n  //         // store.dispatch(ChangeLocation(position,address));\r\n  //         dispatch({\r\n  //           type: ActionTypes.SUCCESS_LOAD_LOCATION,\r\n  //           payload: {\r\n  //             address:address,\r\n  //             latitude:crd.latitude,\r\n  //             longitude:crd.longitude\r\n  //           }\r\n  //         });\r\n  //         return;\r\n  //       }\r\n  //     }).catch(error=>{\r\n  //       dispatch({\r\n  //         type: ActionTypes.FAILED_LOAD_LOCATION,\r\n  //         payload: { error }\r\n  //       });\r\n  //     }\r\n  //       );\r\n  //     }\r\n  //   }\r\n\r\n  //   dispatch({\r\n  //     type: ActionTypes.FAILED_LOAD_LOCATION\r\n  //   });\r\n};\r\n\r\nexport const MakeOrder: any = (\r\n  marketId: string,\r\n  cart: ICartState,\r\n  deliver: IDeliverState\r\n) => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/makeorder\";\r\n  // const url: string = \"http://localhost/laravel_api/public/api/makeorder\";\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_MAKING_ORDER\r\n  });\r\n  const send_info: any = {\r\n    marketId,\r\n    cart,\r\n    ...deliver,\r\n    datedate: deliver.date.toDate(),\r\n    datest: deliver.date.format(\"YYYY/MM/DD hh:mm A\")\r\n  };\r\n\r\n  fetch(url, { method: \"POST\", body: JSON.stringify(send_info) })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_MAKE_ORDER,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      // console.log(res);\r\n      const result: IMakeOrder = res as IMakeOrder;\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_MAKE_ORDER,\r\n        payload: {\r\n          order: result.order,\r\n          orderDetails: result.orderDetails\r\n        }\r\n      });\r\n      dispatch(\r\n        push(\r\n          process.env.PUBLIC_URL +\r\n            \"/\" +\r\n            AppPages.CHECKOUT +\r\n            \"/\" +\r\n            result.order.id\r\n        )\r\n      );\r\n      // console.log(\"push\");\r\n      // push(process.env.PUBLIC_URL + \"/\" + AppPages.CHECKOUT + \"/\" + result.id);\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: ActionTypes.FAILED_MAKE_ORDER,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\nexport const loadOrder: any = (orderId: string) => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/order/\" + orderId;\r\n  // const url: string = \"http://localhost/laravel_api/public/api/order/\" + orderId;\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_LOADING_ORDER\r\n  });\r\n\r\n  fetch(url, { method: \"GET\" })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_LOAD_ORDER,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      const { order, orderDetails } = res;\r\n      sessionStorage.setItem(\"orderId\", order.id);\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_LOAD_ORDER,\r\n        payload: {\r\n          order: order,\r\n          orderDetails: orderDetails\r\n        }\r\n      });\r\n      // console.log(\"push\");\r\n      // push(process.env.PUBLIC_URL + \"/\" + AppPages.CHECKOUT + \"/\" + result.id);\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: ActionTypes.FAILED_LOAD_ORDER,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\nexport const send2Bank: any = (orderId: string) => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/sendorder\";\r\n  // const url: string = \"http://localhost/laravel_api/public/api/sendorder\";\r\n\r\n  const redirect: string = \"https://noonap.ir/comeback\";\r\n  // const redirect:string = \"http://localhost:3000/comeback\";\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_SENDING_ORDER_TO_BANK\r\n  });\r\n\r\n  fetch(url, {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ id: orderId, redirect: redirect })\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_SEND_ORDER_TO_BANK,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      console.log(res);\r\n      const { url } = res;\r\n\r\n      sessionStorage.setItem(\"orderId\", orderId);\r\n\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_SEND_ORDER_TO_BANK,\r\n        payload: { payurl: url }\r\n      });\r\n      window.location.href = url;\r\n      // window.location = url;\r\n      // window.open(url);\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: ActionTypes.FAILED_SEND_ORDER_TO_BANK,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\nexport const verifyBank: any = (token: string) => (dispatch: Dispatch) => {\r\n  const url: string = \"https://apdr.ir/api/verify\";\r\n  // const url: string = \"http://localhost/laravel_api/public/api/verify\";\r\n\r\n  dispatch({\r\n    type: ActionTypes.TRY_VERIFY_BANK\r\n  });\r\n\r\n  fetch(url, { method: \"POST\", body: JSON.stringify({ token: token }) })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      if (res.error || res.result === false) {\r\n        dispatch({\r\n          type: ActionTypes.FAILED_VERIFY_BANK,\r\n          payload: { error: res.error }\r\n        });\r\n      }\r\n      console.log(res);\r\n      // const { order, orderDetails, transId } = res;\r\n      // dispatch(push(url));\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_VERIFY_BANK,\r\n        payload: {\r\n          order: res.order,\r\n          orderDetails: res.orderDetails,\r\n          transId: res.transId\r\n        }\r\n      });\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: ActionTypes.FAILED_VERIFY_BANK,\r\n        payload: { error }\r\n      });\r\n    });\r\n};\r\n\r\n// export const ChangeTime: any = (\r\n//   event: React.MouseEvent<HTMLButtonElement>,\r\n//   time: string\r\n// ) => (dispatch: Dispatch) => {\r\n//   event.stopPropagation();\r\n//   dispatch({\r\n//     type: ActionTypes.CHANGE_TIME,\r\n//     payload: { time }\r\n//   });\r\n// };\r\n\r\n// export const ChangeLocation: any = (\r\n//   event: React.MouseEvent<HTMLButtonElement>,\r\n//   location: Position\r\n// ) => (dispatch: Dispatch) => {\r\n//   event.stopPropagation();\r\n//   dispatch({\r\n//     type: ActionTypes.CHANGE_LOCATION,\r\n//     payload: { location }\r\n//   });\r\n// };\r\n\r\n//////////////////////////////////////////////////////\r\n\r\n// export const scorePage = () => dispatch => {\r\n//     //...\r\n//     dispatch({\r\n//         type: SCORE_PAGE,\r\n//         payload: []\r\n//     })\r\n// }\r\n/*\r\nexport const changePage: Function = (\r\n  event: React.MouseEvent<HTMLButtonElement>,\r\n  newPage: AppPages,\r\n  levelId: number\r\n) => (dispatch: Dispatch) => {\r\n  event.stopPropagation();\r\n  dispatch({\r\n    type: ActionTypes.CHANGE_PAGE,\r\n    payload: { levelId, newPage }\r\n  });\r\n};\r\n\r\n\r\nexport const changeStage =\r\n    (event: React.MouseEvent<HTMLButtonElement>,stageId:string, score:number, backgroundPic:string) => (dispatch:Dispatch) => {\r\n\r\n    event.stopPropagation();\r\n    // console.log('changeStage actions', event, stageId, score,backgroundPic);\r\n    dispatch({\r\n        type: ActionTypes.CHANGE_STAGE,\r\n        payload: { stageId, score,backgroundPic }\r\n    })\r\n}\r\n/*\r\n/*\r\nexport const pauseGame = (event:React.MouseEvent<HTMLButtonElement>, show:boolean = true) => (dispatch:Dispatch) => {\r\n\r\n    event.stopPropagation();\r\n    dispatch({\r\n        type: show ? ActionTypes.PAUSE_GAME : ActionTypes.RESUME_PAGE,\r\n        payload: { isPaused: show }\r\n    })\r\n}\r\n*/\r\n/*\r\nexport const ChangeMobile: ActionCreator<IChangeMobileDeliver> = (productId) => {\r\n  return {\r\n    type: CHANGE_MOBILE,\r\n    productId\r\n  };\r\n};\r\n\r\nexport const LoadUserInfo: ActionCreator<ILoadUserInfo> = (name, mobile, address, latitude, longitude) => {\r\n  console.log(\"actions\", name, mobile, address, latitude, longitude);\r\n  return {\r\n    type: LOAD_USER_INFO,\r\n    name, mobile, address, latitude, longitude\r\n  };\r\n};\r\n*/\r\n","import React from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport PageCart from \"./page-cart\";\r\n\r\nimport { IAppState, AppPages } from \"../../../reducers/app\";\r\nimport { IShopState } from \"../../../reducers/shop\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport { IGroup } from \"../../../actions/shop\";\r\nimport { loadData } from \"../../../actions/shopActions\";\r\n\r\nconst useStyles: any = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  grid: {\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  littleGrid: { cursor: \"pointer\" },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary\r\n  },\r\n  link: {\r\n    textDecoration: \"none\"\r\n  },\r\n  progress: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  progressDiv: {\r\n    textAlign: \"center\",\r\n    marginTop: \"3rem\"\r\n  },\r\n  yekanFont: {\r\n    fontFamily: \"Yekan\"\r\n  }\r\n}));\r\n\r\ninterface IMainProps {\r\n  // tabId?: number;\r\n  // changeTabId: Function;\r\n\r\n  loadingDbInfo: boolean;\r\n\r\n  loadDbInfo: boolean;\r\n  groups: IGroup[];\r\n\r\n  //dbInfo?: IDbInfo;\r\n\r\n  loadData: Function;\r\n  changePage: Function;\r\n}\r\n\r\nconst Main: React.FC<IMainProps> = (prop: IMainProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  React.useEffect(() => {\r\n    // prop.changeTabId(0);\r\n    if (prop.loadDbInfo === false) {\r\n      prop.loadData();\r\n    }\r\n  }, [prop]);\r\n\r\n  // console.log(prop.tabId);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      {prop.loadingDbInfo ? (\r\n        <div className={classes.progressDiv}>\r\n          <CircularProgress className={classes.progress} />\r\n        </div>\r\n      ) : prop.loadDbInfo === false ? (\r\n        <div className={classes.progressDiv}>\r\n          <h4 className={classes.yekanFont}>خطا در بارگذاری اطلاعات</h4>\r\n          <Button\r\n            className={classes.yekanFont}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => prop.loadData()}\r\n          >\r\n            بارگزاری مجدد\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <Grid\r\n          className={classes.grid}\r\n          container\r\n          spacing={3}\r\n          justify=\"space-around\"\r\n          alignItems=\"stretch\"\r\n        >\r\n          {prop.groups.map((group: IGroup) => (\r\n            <Grid\r\n              className={classes.littleGrid}\r\n              key={group.id}\r\n              item\r\n              xs={12}\r\n              sm={6}\r\n              onClick={() =>\r\n                prop.changePage(\r\n                  group.enabled\r\n                    ? \"/\" + AppPages.MARKET + \"/\" + group.id + \"/\" + group.title\r\n                    : \"/\" + AppPages.SOON\r\n                )\r\n              }\r\n            >\r\n              <PageCart\r\n                title={group.persianTitle}\r\n                subtitle={\r\n                  group.persianSubtitle !== undefined\r\n                    ? group.persianSubtitle\r\n                    : \"\"\r\n                }\r\n                img={group.img}\r\n              />\r\n              {/* </a> */}\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n  tabId: State.app.tabId,\r\n  loadingDbInfo: State.shop.loadingDbInfo,\r\n  // dbInfo: State.shop.dbInfo\r\n  groups: State.shop.groups,\r\n  loadDbInfo: State.shop.loadDbInfo\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  // changeTabId: changeTabId\r\n  loadData,\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Main);\r\n","import React from \"react\";\r\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(3, 2),\r\n      margin: theme.spacing(3, 2)\r\n    },\r\n    myFont: {\r\n      fontFamily: \"Yekan\"\r\n    }\r\n  })\r\n);\r\n\r\nconst NotFound: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper className={classes.root}>\r\n        <Typography className={classes.myFont} variant=\"h5\" component=\"h3\">\r\n          صفحه مورد نظر پیدا نشد.\r\n        </Typography>\r\n        <Typography className={classes.myFont} component=\"p\">\r\n          لطفاً دوباره تلاش کنید.\r\n        </Typography>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { IAppState } from \"../../reducers/app\";\r\nimport { IShopState } from \"../../reducers/shop\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles: any = makeStyles({\r\n  mainTitle: {\r\n    fontFamily: \"Yekan\"\r\n  },\r\n  companyLink: {\r\n    fontFamily: \"Yekan\",\r\n    padding: \"2px\"\r\n  }\r\n});\r\n\r\ninterface IAboutProps {\r\n  // tabId?: number;\r\n  // changeTabId: Function;\r\n}\r\n\r\nconst About: React.FC<IAboutProps> = (prop: IAboutProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  // useEffect(() => {\r\n  //   prop.changeTabId(1);\r\n  // });\r\n\r\n  // console.log(prop.tabId);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <h3 className={classes.mainTitle}>درباره ما</h3>\r\n      <p className={classes.mainTitle}>\r\n        کلیه حقوق مادی و معنوی اپلیکیشن نون متعلق به شرکت\r\n        <a\r\n          className={classes.companyLink}\r\n          href=\"http://www.apdr.ir\"\r\n          title=\"وب سایت شرکت کاوشگران البرز\"\r\n        >\r\n          کاوشگران البرز\r\n        </a>\r\n        می‌باشد.\r\n      </p>\r\n      <h3 className={classes.mainTitle}>آدرس</h3>\r\n      <p className={classes.mainTitle}>\r\n        رامسر - خیابان مطهری - جنب بانک صادرات مرکزی - طبقه دوم - شرکت کاوشگران\r\n        البرز\r\n      </p>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n  // tabId: State.app.tabId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  // changeTabId: changeTabId\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(About);\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { createStyles, Theme, makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport ShoppingBasket from \"@material-ui/icons/ShoppingBasket\";\r\n\r\nimport { IAppState, AppPages } from \"../../reducers/app\";\r\nimport { IShopState, ICartState } from \"../../reducers/shop\";\r\n\r\nimport { IProduct, IProductPlus } from \"../../actions/shop\";\r\nimport { addToCart, removeFromCart, loadData } from \"../../actions/shopActions\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { push } from \"connected-react-router\";\r\n\r\nconst useStyles: any = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"100%\",\r\n      marginTop: theme.spacing(3),\r\n      overflowX: \"auto\"\r\n    },\r\n    table: {\r\n      maxWidth: \"100%\"\r\n    },\r\n    tableCell: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    imgCell: {\r\n      padding: \"0\"\r\n    },\r\n    cellImg: {\r\n      width: \"72px\"\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1)\r\n    },\r\n    button: {\r\n      marginTop: theme.spacing(1),\r\n      fontFamily: \"Yekan\",\r\n      float: \"left\"\r\n    }\r\n  })\r\n);\r\n\r\ninterface IMatchParams {\r\n  id?: string;\r\n  name?: string;\r\n}\r\n\r\ninterface IProductProps extends RouteComponentProps<IMatchParams> {\r\n  cart: ICartState;\r\n  addToCart: Function;\r\n  removeFromCart: Function;\r\n\r\n  changePage: Function;\r\n\r\n  // dbInfo?: IDbInfo;\r\n  loadDbInfo: boolean;\r\n  products: IProduct[];\r\n  loadData: Function;\r\n}\r\n\r\nconst Product: React.FC<IProductProps> = (prop: IProductProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  const marketId: string | undefined = prop.match.params.id;\r\n\r\n  React.useEffect(() => {\r\n    // prop.changeTabId(0);\r\n    if (prop.loadDbInfo === false) {\r\n      prop.loadData();\r\n    }\r\n  }, [prop]);\r\n\r\n  const products: IProduct[] = prop.products.filter(\r\n    (p: IProduct) => Number(p.markets_id) === Number(marketId)\r\n  );\r\n\r\n  const productsPlus: IProductPlus[] = products.map((p: IProduct) => {\r\n    const pplus: IProductPlus = p as IProductPlus;\r\n    const count: number =\r\n      prop.cart === undefined || prop.cart[p.id] === undefined\r\n        ? 0\r\n        : prop.cart[p.id];\r\n    return { ...pplus, count: count };\r\n  });\r\n\r\n  const totalPrice: number =\r\n    productsPlus === undefined\r\n      ? 0\r\n      : productsPlus.reduce(\r\n          (sum, p) => sum + (p.count === undefined ? 0 : p.count) * p.price,\r\n          0\r\n        );\r\n\r\n  // -- TODO: if products=0 => به زودی\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Paper className={classes.root}>\r\n        <Table className={classes.table}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell className={classes.tableCell} align=\"center\">\r\n                تصویر محصول\r\n              </TableCell>\r\n              <TableCell className={classes.tableCell} align=\"center\">\r\n                نام و قیمت هر واحد\r\n              </TableCell>\r\n              <TableCell className={classes.tableCell} align=\"center\">\r\n                تعداد سفارش\r\n              </TableCell>\r\n              <TableCell className={classes.tableCell} align=\"center\">\r\n                قیمت\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {productsPlus &&\r\n              productsPlus.map((product: IProductPlus) => (\r\n                <TableRow key={product.id}>\r\n                  <TableCell className={classes.imgCell} align=\"center\">\r\n                    <img\r\n                      className={classes.cellImg}\r\n                      src={process.env.PUBLIC_URL + product.img}\r\n                      alt={product.title}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell\r\n                    className={classes.tableCell}\r\n                    component=\"td\"\r\n                    scope=\"row\"\r\n                    align=\"center\"\r\n                  >\r\n                    {product.persianTitle}\r\n                    <br />\r\n                    {Math.trunc(product.price)} تومان\r\n                  </TableCell>\r\n                  <TableCell\r\n                    className={classes.tableCell}\r\n                    component=\"td\"\r\n                    scope=\"row\"\r\n                    align=\"center\"\r\n                  >\r\n                    {product.max !== undefined &&\r\n                    product.count !== undefined &&\r\n                    product.count >= product.max ? (\r\n                      <Fab\r\n                        size=\"small\"\r\n                        // color=\"secondary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.margin}\r\n                        // onClick={event => prop.addToCart(event, product.id)}\r\n                      >\r\n                        <AddIcon />\r\n                      </Fab>\r\n                    ) : (\r\n                      <Fab\r\n                        size=\"small\"\r\n                        color=\"secondary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.margin}\r\n                        onClick={event =>\r\n                          prop.addToCart(event, product.id, marketId)\r\n                        }\r\n                      >\r\n                        <AddIcon />\r\n                      </Fab>\r\n                    )}\r\n\r\n                    {product.count}\r\n\r\n                    {product.count !== undefined && product.count > 0 ? (\r\n                      <Fab\r\n                        size=\"small\"\r\n                        color=\"secondary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.margin}\r\n                        onClick={event =>\r\n                          prop.removeFromCart(event, product.id, marketId)\r\n                        }\r\n                      >\r\n                        <RemoveIcon />\r\n                      </Fab>\r\n                    ) : (\r\n                      <Fab\r\n                        size=\"small\"\r\n                        // color=\"secondary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.margin}\r\n                        // onClick={event => prop.removeFromCart(event, product.id)}\r\n                      >\r\n                        <RemoveIcon />\r\n                      </Fab>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell\r\n                    className={classes.tableCell}\r\n                    component=\"td\"\r\n                    scope=\"row\"\r\n                    align=\"center\"\r\n                  >\r\n                    {(product.count === undefined ? 0 : product.count) *\r\n                      product.price}{\" \"}\r\n                    تومان\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            <TableRow>\r\n              <TableCell className={classes.tableCell} colSpan={3}>\r\n                مجموع قیمت ها\r\n              </TableCell>\r\n              <TableCell className={classes.tableCell} align=\"center\">\r\n                {totalPrice} تومان\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n      {totalPrice > 0 && (\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n          onClick={() =>\r\n            prop.changePage(\r\n              process.env.PUBLIC_URL + \"/\" + AppPages.ADDRESS + \"/\" + marketId\r\n            )\r\n          }\r\n        >\r\n          تکمیل خرید\r\n          <ShoppingBasket className={classes.extendedIcon} />\r\n        </Button>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps: any = (State: { app: IAppState; shop: IShopState }) => ({\r\n  cart: State.shop.cart,\r\n  // dbInfo: State.shop.dbInfo,\r\n  products: State.shop.products,\r\n  loadDbInfo: State.shop.loadDbInfo\r\n});\r\n\r\nconst mapDispatchToProps: any = {\r\n  // changePage: changePage\r\n  addToCart,\r\n  removeFromCart,\r\n  loadData,\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Product);\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport ViewModule from \"@material-ui/icons/ViewModule\";\r\nimport ImportantDevices from \"@material-ui/icons/ImportantDevices\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport { push } from \"connected-react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { IAppState, AppPages } from \"../../reducers/app\";\r\nimport { IShopState } from \"../../reducers/shop\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1\r\n    },\r\n    menuButton: {\r\n      marginLeft: theme.spacing(2)\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    list: {\r\n      width: 250\r\n    },\r\n    fullList: {\r\n      width: \"auto\"\r\n    },\r\n    menuTitle: {\r\n      textAlign: \"right\"\r\n    }\r\n  })\r\n);\r\n\r\ninterface IMiniHeaderProps {\r\n  changePage: Function;\r\n}\r\n\r\nconst MiniHeader: React.FC<IMiniHeaderProps> = (prop: IMiniHeaderProps) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false\r\n  });\r\n\r\n  type DrawerSide = \"top\" | \"left\" | \"bottom\" | \"right\";\r\n  const toggleDrawer = (side: DrawerSide, open: boolean) => (\r\n    event: React.KeyboardEvent | React.MouseEvent\r\n  ) => {\r\n    if (\r\n      event.type === \"keydown\" &&\r\n      ((event as React.KeyboardEvent).key === \"Tab\" ||\r\n        (event as React.KeyboardEvent).key === \"Shift\")\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setState({ ...state, [side]: open });\r\n  };\r\n\r\n  const sideList = (side: DrawerSide) => (\r\n    <div\r\n      className={classes.list}\r\n      role=\"presentation\"\r\n      onClick={toggleDrawer(side, false)}\r\n      onKeyDown={toggleDrawer(side, false)}\r\n    >\r\n      <List>\r\n        <ListItem\r\n          button\r\n          component={Button}\r\n          // to={process.env.PUBLIC_URL + \"/\"}\r\n          onClick={() => prop.changePage(process.env.PUBLIC_URL + \"/\")}\r\n          key=\"main\"\r\n        >\r\n          <ListItemIcon>\r\n            <ViewModule />\r\n          </ListItemIcon>\r\n          <ListItemText className={classes.menuTitle} primary=\"صفحه اصلی\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        <ListItem\r\n          button\r\n          component={Button}\r\n          // to={process.env.PUBLIC_URL + \"/about\"}\r\n          onClick={() =>\r\n            prop.changePage(process.env.PUBLIC_URL + \"/\" + AppPages.ABOUT)\r\n          }\r\n          key=\"about\"\r\n        >\r\n          <ListItemIcon>\r\n            <ImportantDevices />\r\n          </ListItemIcon>\r\n          <ListItemText className={classes.menuTitle} primary=\"درباره ما\" />\r\n        </ListItem>\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={toggleDrawer(\"right\", true)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            نون\r\n          </Typography>\r\n          <IconButton edge=\"end\" color=\"inherit\">\r\n            <MoreIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        anchor=\"right\"\r\n        open={state.right}\r\n        onClose={toggleDrawer(\"right\", false)}\r\n      >\r\n        {sideList(\"right\")}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MiniHeader);\r\n","import moment from \"moment\";\r\nimport { Moment } from \"moment-jalaali\";\r\nimport {\r\n  IGroup,\r\n  IMarketPlus,\r\n  IOpenTime,\r\n  IProduct,\r\n  IOrder,\r\n  IOrderDetail\r\n} from \"../actions/shop\";\r\n\r\nexport interface IShopState {\r\n  // ------------------------------\r\n  // dbInfo?: IDbInfo;\r\n  groups: IGroup[];\r\n  markets: IMarketPlus[];\r\n  openTimes: IOpenTime[];\r\n  products: IProduct[];\r\n\r\n  // ------------------------------\r\n  // products: IProductsState;\r\n  cart: ICartState;\r\n  deliver: IDeliverState;\r\n  error: string;\r\n\r\n  lastMarketId?: number;\r\n  loadingDbInfo: boolean;\r\n  loadDbInfo: boolean;\r\n\r\n  // ------------------------------\r\n  loadOrder: boolean;\r\n  order?: IOrder;\r\n  orderDetails: IOrderDetail[];\r\n  transId?: string;\r\n  payurl?: string;\r\n}\r\n\r\nexport interface IProductsState {\r\n  [index: string]: IProductState;\r\n}\r\n\r\nexport interface IProductState {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  max: number;\r\n  img: string;\r\n  enable: boolean;\r\n}\r\n\r\nexport interface ICartState {\r\n  [index: string]: number;\r\n}\r\n\r\nexport interface ICartItem {\r\n  id: number;\r\n  title: string;\r\n  amount: number;\r\n  price: number;\r\n}\r\n\r\nexport interface IDeliverState {\r\n  deliverKind: string;\r\n  deliverDistrict: string;\r\n\r\n  mobile: string;\r\n  fullname: string;\r\n  address: string;\r\n\r\n  location?: Position;\r\n  date: Moment;\r\n  // time: string;\r\n\r\n  loadingInfo: boolean;\r\n  loadingLocation: boolean;\r\n  // sendingCart:boolean;\r\n}\r\n\r\nexport const INITIAL_SHOPSTATE: IShopState = {\r\n  // dbInfo: undefined,\r\n  // products: {},\r\n  groups: [],\r\n  markets: [],\r\n  openTimes: [],\r\n  products: [],\r\n\r\n  cart: {},\r\n  deliver: {\r\n    deliverKind: \"\",\r\n    deliverDistrict: \"\",\r\n    fullname: \"\",\r\n    address: \"\",\r\n    mobile: \"\",\r\n    date: moment(),\r\n    // time: \"\",\r\n    loadingInfo: false,\r\n    loadingLocation: false\r\n    // , sendingCart:false\r\n  },\r\n  error: \"\",\r\n\r\n  lastMarketId: undefined,\r\n  loadingDbInfo: false,\r\n  loadDbInfo: false,\r\n\r\n  loadOrder: false,\r\n  order: undefined,\r\n  orderDetails: []\r\n};\r\n\r\nexport enum deliverKindType {\r\n  express_send = \"express_send\",\r\n  future_send = \"future_send\",\r\n  takeout = \"takeout\",\r\n  reserve = \"reserve\",\r\n  future_takeout = \"future_takeout\"\r\n}\r\n\r\nexport const deliverKindPersian: (dk: deliverKindType) => string = (\r\n  dk: deliverKindType\r\n) => {\r\n  switch (dk) {\r\n    case deliverKindType.express_send:\r\n      return \"ارسال فوری\";\r\n    case deliverKindType.future_send:\r\n      return \"ارسال در آینده\";\r\n    case deliverKindType.takeout:\r\n      return \"دریافت حضوری\";\r\n    case deliverKindType.reserve:\r\n      return \"رزرو مکان\";\r\n    case deliverKindType.future_takeout:\r\n      return \"تحویل حضوری در آینده\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nexport const deliverKindPersianst: (st: string) => string = (st: string) => {\r\n  if (st === \"\") {\r\n    return \"\";\r\n  }\r\n  return deliverKindPersian(st as deliverKindType);\r\n};\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport { push } from \"connected-react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { IAppState, AppPages } from \"../../reducers/app\";\r\nimport { IShopState } from \"../../reducers/shop\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    textAlign: \"center\"\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n    fontFamily: \"Yekan\"\r\n  },\r\n  tab: {\r\n    fontFamily: \"Yekan\"\r\n  },\r\n  titleImg: {\r\n    verticalAlign: \"middle\"\r\n  }\r\n});\r\n\r\ninterface IBigHeaderProps {\r\n  tabId?: number;\r\n  changePage: Function;\r\n}\r\n\r\nconst BigHeader: React.FC<IBigHeaderProps> = (prop: IBigHeaderProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  const [value, setValue] = React.useState(0);\r\n  function handleChange(event: React.ChangeEvent<{}>, newValue: number) {\r\n    setValue(newValue);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className={classes.title}>\r\n        <img\r\n          className={classes.titleImg}\r\n          src={process.env.PUBLIC_URL + \"/icon-48x48.png\"}\r\n          alt=\"logo\"\r\n        />\r\n        نون\r\n      </h2>\r\n      <Paper className={classes.root}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          // value={prop.tabId}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          centered\r\n        >\r\n          <Tab\r\n            className={classes.tab}\r\n            label=\"صفحه اصلی\"\r\n            // href={process.env.PUBLIC_URL + \"/\"}\r\n            onClick={() => prop.changePage(process.env.PUBLIC_URL + \"/\")}\r\n          />\r\n          <Tab\r\n            className={classes.tab}\r\n            label=\"ارتباط با ما\"\r\n            // href={process.env.PUBLIC_URL + \"/about\"}\r\n            onClick={() =>\r\n              prop.changePage(process.env.PUBLIC_URL + \"/\" + AppPages.ABOUT)\r\n            }\r\n          />\r\n          {/* <Tab className={classes.tab} label=\"Item Three\" /> */}\r\n        </Tabs>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n  tabId: State.app.pageId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(BigHeader);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MiniHeader from \"./mini-header\";\r\nimport BigHeader from \"./big-header\";\r\n\r\nconst MainHeader: React.FC = () => {\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 500);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", () => {\r\n      setIsMobile(window.innerWidth <= 500);\r\n    });\r\n  });\r\n\r\n  if (isMobile) {\r\n    return <MiniHeader />;\r\n  } else {\r\n    return <BigHeader />;\r\n  }\r\n};\r\n\r\nexport default MainHeader;\r\n","import React from \"react\";\r\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { IAppState } from \"../../reducers/app\";\r\nimport { IShopState } from \"../../reducers/shop\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nconst useStyles: any = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(3, 2),\r\n      margin: theme.spacing(3, 2)\r\n    },\r\n    myFont: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    btn: {\r\n      fontFamily: \"Yekan\",\r\n      textAlign: \"left\",\r\n      margin: theme.spacing(1, 2)\r\n    }\r\n  })\r\n);\r\n\r\ninterface ISoonProps {\r\n  // tabId?: number;\r\n  // changeTabId: Function;\r\n  changePage: Function;\r\n}\r\n\r\nconst Soon: React.FC<ISoonProps> = (prop: ISoonProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper className={classes.root}>\r\n        <Typography className={classes.myFont} variant=\"h5\" component=\"h3\">\r\n          این بخش در حال ساخت می باشد.\r\n        </Typography>\r\n        <Typography className={classes.myFont} component=\"p\">\r\n          به زودی این بخش ساخته می شود و در دسترس قرار می گیرد\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.btn}\r\n          onClick={() => prop.changePage(process.env.PUBLIC_URL + \"/\")}\r\n        >\r\n          بازگشت به صفحه اصلی\r\n        </Button>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Soon);\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { IAppState } from \"../../reducers/app\";\r\nimport {\r\n  IShopState,\r\n  IDeliverState,\r\n  ICartState,\r\n  deliverKindType,\r\n  deliverKindPersian\r\n} from \"../../reducers/shop\";\r\nimport {\r\n  ChangeDeliverKind,\r\n  ChangeDeliverDistrict,\r\n  ChangeMobile,\r\n  ChangeFullname,\r\n  ChangeAddress,\r\n  ChangeDate,\r\n  ChangeTime,\r\n  LoadUserInfo,\r\n  LoadLocation,\r\n  loadData,\r\n  MakeOrder\r\n} from \"../../actions/shopActions\";\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport RecentActorsIcon from \"@material-ui/icons/RecentActors\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport NotListedLocationIcon from \"@material-ui/icons/NotListedLocation\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ShoppingBasket from \"@material-ui/icons/ShoppingBasket\";\r\n\r\nimport Select from \"@material-ui/core/Select\";\r\n\r\nimport jMoment from \"moment-jalaali\";\r\nimport JalaliUtils from \"@date-io/jalaali\";\r\n\r\n//import { push } from \"connected-react-router\";\r\n// import LuxonUtils from \"@date-io/luxon\";\r\nimport {\r\n  DatePicker,\r\n  KeyboardTimePicker,\r\n  MuiPickersUtilsProvider\r\n} from \"@material-ui/pickers\";\r\nimport { IMarketPlus } from \"../../actions/shop\";\r\n\r\ndeclare global {\r\n  interface Date {\r\n    format(arg: any): string;\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    container: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    textField: {\r\n      // marginLeft: theme.spacing(1),\r\n      // marginRight: theme.spacing(1),\r\n      fontFamily: \"Yekan\"\r\n      // width: 200\r\n    },\r\n    dense: {\r\n      marginTop: 19\r\n    },\r\n    menu: {\r\n      width: 200\r\n    },\r\n    margin: {\r\n      // margin: theme.spacing(1),\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n      width: \"100%\"\r\n    },\r\n    textField2: {\r\n      /*flexBasis: 200*/\r\n    },\r\n    grid: {\r\n      paddingTop: theme.spacing(2)\r\n    },\r\n    selectFormControl: {\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n      width: \"100%\"\r\n    },\r\n    pickerGrid: {\r\n      // direction: \"ltr\",\r\n      // width: \"100%\"\r\n      // fontFamily: \"Yekan\"\r\n    },\r\n    datepicker: {\r\n      direction: \"ltr\",\r\n      width: \"100%\",\r\n      textAlign: \"right\"\r\n      // fontFamily: \"Yekan\"\r\n    },\r\n    timepicker: {\r\n      direction: \"ltr\",\r\n      width: \"100%\",\r\n      textAlign: \"right\"\r\n      // fontFamily: \"Yekan\"\r\n    },\r\n    button: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    closeSpan: {\r\n      color: \"green\"\r\n    }\r\n  })\r\n);\r\n\r\ninterface IMatchParams {\r\n  id?: string;\r\n}\r\n\r\ninterface IAddressProp extends RouteComponentProps<IMatchParams> {\r\n  deliver: IDeliverState;\r\n  // dbInfo?: IDbInfo;\r\n  loadDbInfo: boolean;\r\n  loadingOrder: boolean;\r\n  markets: IMarketPlus[];\r\n  cart: ICartState;\r\n\r\n  ChangeDeliverKind: Function;\r\n  ChangeDeliverDistrict: Function;\r\n  ChangeMobile: Function;\r\n  ChangeFullname: Function;\r\n  ChangeAddress: Function;\r\n  ChangeDate: Function;\r\n  ChangeTime: Function;\r\n  LoadUserInfo: Function;\r\n  LoadLocation: Function;\r\n  loadData: Function;\r\n  MakeOrder: Function;\r\n}\r\n\r\nconst Address: React.FC<IAddressProp> = (prop: IAddressProp) => {\r\n  const classes: any = useStyles();\r\n  const marketId: string | undefined = prop.match.params.id;\r\n\r\n  React.useEffect(() => {\r\n    if (prop.loadDbInfo === false) {\r\n      prop.loadData();\r\n    }\r\n  }, [prop]);\r\n\r\n  const market: IMarketPlus | undefined = prop.markets.find(\r\n    (m: IMarketPlus) => Number(m.id) === Number(marketId)\r\n  );\r\n\r\n  // console.log(market, prop.deliver);\r\n\r\n  const handleClickLoadingInfo = () => {\r\n    const mobile: string = prop.deliver.mobile;\r\n    prop.LoadUserInfo(mobile);\r\n  };\r\n\r\n  const handleClickLoadingAddress = () => {\r\n    prop.LoadLocation();\r\n    // setValues({ ...values, loadingAddress: !values.loadingAddress });\r\n  };\r\n\r\n  jMoment.loadPersian({ dialect: \"persian-modern\", usePersianDigits: false });\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Grid\r\n        className={classes.grid}\r\n        container\r\n        spacing={3}\r\n        justify=\"space-around\"\r\n        alignItems=\"stretch\"\r\n      >\r\n        <Grid item xs={12} sm={8}>\r\n          <FormControl className={classes.selectFormControl}>\r\n            <InputLabel htmlFor=\"deliverKind-helper\">شیوه دریافت</InputLabel>\r\n            <Select\r\n              value={prop.deliver.deliverKind}\r\n              // onChange={handleChange2}\r\n              onChange={event =>\r\n                prop.ChangeDeliverKind(event, event.target.value)\r\n              }\r\n              inputProps={{\r\n                name: \"deliverKind\",\r\n                id: \"deliverKind-helper\"\r\n              }}\r\n            >\r\n              <MenuItem value=\"\">\r\n                <em>هیچکدام</em>\r\n              </MenuItem>\r\n\r\n              {market !== undefined &&\r\n                market.express_send &&\r\n                (market.isOpen ? (\r\n                  <MenuItem value={deliverKindType.express_send}>\r\n                    {deliverKindPersian(deliverKindType.express_send)}\r\n                  </MenuItem>\r\n                ) : (\r\n                  <MenuItem value={deliverKindType.express_send} disabled>\r\n                    {deliverKindPersian(deliverKindType.express_send)}{\" \"}\r\n                    <span className={classes.closeSpan}>(بسته است)</span>\r\n                  </MenuItem>\r\n                ))}\r\n\r\n              {market !== undefined && market.future_send && (\r\n                <MenuItem value={deliverKindType.future_send}>\r\n                  {deliverKindPersian(deliverKindType.future_send)}\r\n                </MenuItem>\r\n              )}\r\n\r\n              {market !== undefined &&\r\n                market.takeout &&\r\n                (market.isOpen ? (\r\n                  <MenuItem value={deliverKindType.takeout}>\r\n                    {deliverKindPersian(deliverKindType.takeout)}\r\n                  </MenuItem>\r\n                ) : (\r\n                  <MenuItem value={deliverKindType.takeout} disabled>\r\n                    {deliverKindPersian(deliverKindType.takeout)}{\" \"}\r\n                    <span className={classes.closeSpan}>(بسته است)</span>\r\n                  </MenuItem>\r\n                ))}\r\n\r\n              {market !== undefined && market.reserve && (\r\n                <MenuItem value={deliverKindType.reserve}>\r\n                  {deliverKindPersian(deliverKindType.reserve)}\r\n                </MenuItem>\r\n              )}\r\n\r\n              {market !== undefined && market.future_takeout && (\r\n                <MenuItem value={deliverKindType.future_takeout}>\r\n                  {deliverKindPersian(deliverKindType.future_takeout)}\r\n                </MenuItem>\r\n              )}\r\n            </Select>\r\n            <FormHelperText>شیوه دریافت را انتخاب کنید</FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {prop.deliver.deliverKind !== \"\" && (\r\n          <React.Fragment>\r\n            <Grid item xs={12} sm={8}>\r\n              <FormControl className={clsx(classes.margin, classes.textField)}>\r\n                <InputLabel htmlFor=\"adornment-mobile\">موبایل</InputLabel>\r\n                <Input\r\n                  id=\"adornment-mobile\"\r\n                  value={prop.deliver.mobile}\r\n                  fullWidth\r\n                  onChange={event =>\r\n                    prop.ChangeMobile(event, event.target.value)\r\n                  }\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle mobile visibility\"\r\n                        onClick={handleClickLoadingInfo}\r\n                        // onClick={prop.LoadUserInfo(prop.deliver.mobile)}\r\n                        onMouseDown={event => event.preventDefault()}\r\n                      >\r\n                        {prop.deliver.loadingInfo ? (\r\n                          <CircularProgress />\r\n                        ) : (\r\n                          <RecentActorsIcon />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                />\r\n                <FormHelperText id=\"component-helper-text\">\r\n                  اگر قبلا مشتری بودید بعد از وارد کردن موبایل، روی دکمه کلیک\r\n                  کنید\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={8}>\r\n              <TextField\r\n                id=\"standard-name\"\r\n                label=\"نام\"\r\n                fullWidth\r\n                className={clsx(classes.margin, classes.textField)}\r\n                value={prop.deliver.fullname}\r\n                onChange={event =>\r\n                  prop.ChangeFullname(event, event.target.value)\r\n                }\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {(prop.deliver.deliverKind === deliverKindType.future_send ||\r\n          prop.deliver.deliverKind === deliverKindType.reserve ||\r\n          prop.deliver.deliverKind === deliverKindType.future_takeout) && (\r\n          <React.Fragment>\r\n            <Grid item xs={12} sm={5} className={classes.pickerGrid}>\r\n              <MuiPickersUtilsProvider utils={JalaliUtils} locale=\"fa\">\r\n                <DatePicker\r\n                  className={classes.datepicker}\r\n                  label=\"تاریخ تحویل یا دریافت\"\r\n                  minDate={new Date()}\r\n                  okLabel=\"تأیید\"\r\n                  cancelLabel=\"لغو\"\r\n                  labelFunc={date => (date ? date.format(\"jYYYY/jMM/jDD\") : \"\")}\r\n                  value={prop.deliver.date}\r\n                  // onChange={handleDateChange}\r\n                  onChange={date => {\r\n                    // console.log(date);\r\n                    if (date != null) {\r\n                      prop.ChangeDate(date);\r\n                    }\r\n                  }}\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={5} className={classes.pickerGrid}>\r\n              <MuiPickersUtilsProvider utils={JalaliUtils} locale=\"fa\">\r\n                <KeyboardTimePicker\r\n                  className={classes.timepicker}\r\n                  label=\"زمان تحویل یا دریافت\"\r\n                  // minDate={new Date()}\r\n                  okLabel=\"تأیید\"\r\n                  cancelLabel=\"لغو\"\r\n                  format=\"HH:mm\"\r\n                  labelFunc={date => (date ? date.format(\"hh:mm A\") : \"\")}\r\n                  value={prop.deliver.date}\r\n                  // onChange={handleDateChange}\r\n                  onChange={date => {\r\n                    // console.log(date);\r\n                    if (date != null) {\r\n                      prop.ChangeTime(date);\r\n                    }\r\n                  }}\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n            </Grid>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {(prop.deliver.deliverKind === deliverKindType.express_send ||\r\n          prop.deliver.deliverKind === deliverKindType.future_send) && (\r\n          <React.Fragment>\r\n            <Grid item xs={12} sm={8}>\r\n              <FormControl className={classes.selectFormControl}>\r\n                <InputLabel htmlFor=\"deliverDistrict-helper\">\r\n                  محدوده دریافت\r\n                </InputLabel>\r\n                <Select\r\n                  value={prop.deliver.deliverDistrict}\r\n                  // onChange={handleChange2}\r\n                  onChange={event =>\r\n                    prop.ChangeDeliverDistrict(event, event.target.value)\r\n                  }\r\n                  inputProps={{\r\n                    name: \"deliverDistrict\",\r\n                    id: \"deliverDistrict-helper\"\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"\">\r\n                    <em>هیچکدام</em>\r\n                  </MenuItem>\r\n                  <MenuItem value={\"abrisham\"}>\r\n                    ابریشم محله و بیست متری\r\n                  </MenuItem>\r\n                  <MenuItem value={\"katalom\"}>کتالم و سادات شهر</MenuItem>\r\n                  <MenuItem value={\"rejaee\"}>رضی محله و میدان رجایی</MenuItem>\r\n                  <MenuItem value={\"latmahale\"}>تنگه دره و لات محله</MenuItem>\r\n                </Select>\r\n                <FormHelperText>محدوده دریافت را انتخاب کنید</FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={8}>\r\n              <FormControl className={clsx(classes.margin, classes.textField2)}>\r\n                <InputLabel htmlFor=\"adornment-address\">آدرس</InputLabel>\r\n                <Input\r\n                  id=\"adornment-address\"\r\n                  value={prop.deliver.address}\r\n                  multiline\r\n                  fullWidth\r\n                  // onChange={handleChange(\"address\")}\r\n                  onChange={event =>\r\n                    prop.ChangeAddress(event, event.target.value)\r\n                  }\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle address visibility\"\r\n                        onClick={handleClickLoadingAddress}\r\n                        onMouseDown={event => event.preventDefault()}\r\n                      >\r\n                        {prop.deliver.loadingLocation ? (\r\n                          <CircularProgress />\r\n                        ) : (\r\n                          <NotListedLocationIcon />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                />\r\n                <FormHelperText id=\"component-helper-text\">\r\n                  برای تعیین موقعیت فعلی روی دکمه کلیک کنید\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {prop.deliver.deliverKind !== \"\" &&\r\n          prop.deliver.mobile.length > 9 &&\r\n          prop.deliver.fullname.length > 3 &&\r\n          (prop.deliver.deliverKind === deliverKindType.express_send ||\r\n            prop.deliver.deliverKind === deliverKindType.takeout ||\r\n            prop.deliver.date != null) &&\r\n          ((prop.deliver.deliverKind !== deliverKindType.express_send &&\r\n            prop.deliver.deliverKind !== deliverKindType.future_send) ||\r\n            (prop.deliver.address.length > 3 &&\r\n              (prop.deliver.deliverDistrict !== \"\" ||\r\n                prop.deliver.location != null))) && (\r\n            <Grid item xs={12} sm={8}>\r\n              {prop.loadingOrder ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.button}\r\n                  disabled\r\n                >\r\n                  تائید خرید\r\n                  <ShoppingBasket className={classes.extendedIcon} />\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.button}\r\n                  onClick={\r\n                    () => prop.MakeOrder(marketId, prop.cart, prop.deliver)\r\n                    // prop.changePage(\r\n                    //   process.env.PUBLIC_URL + \"/\" + AppPages.CHECKOUT\r\n                    // )\r\n                  }\r\n                >\r\n                  تائید خرید\r\n                  <ShoppingBasket className={classes.extendedIcon} />\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n          )}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps: any = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart,\r\n  deliver: State.shop.deliver,\r\n  markets: State.shop.markets,\r\n  loadDbInfo: State.shop.loadDbInfo,\r\n  cart: State.shop.cart,\r\n  loadingOrder: State.shop.loadOrder\r\n});\r\n\r\nconst mapDispatchToProps: any = {\r\n  ChangeDeliverKind,\r\n  ChangeDeliverDistrict,\r\n  ChangeMobile,\r\n  ChangeFullname,\r\n  ChangeAddress,\r\n  ChangeDate,\r\n  ChangeTime,\r\n  LoadUserInfo,\r\n  LoadLocation,\r\n  // changePage: changePage\r\n  // addToCart: addToCart,\r\n  // removeFromCart: removeFromCart,\r\n  loadData,\r\n  MakeOrder // (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Address);\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport CreditCardIcon from \"@material-ui/icons/CreditCard\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { IAppState } from \"../../reducers/app\";\r\nimport { IShopState, deliverKindPersianst } from \"../../reducers/shop\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { IOrder, IOrderDetail } from \"../../actions/shop\";\r\nimport { loadOrder, send2Bank } from \"../../actions/shopActions\";\r\n\r\nconst useStyles: any = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    mainTitle: {\r\n      fontFamily: \"Yekan\",\r\n      textAlign: \"center\"\r\n    },\r\n    companyLink: {\r\n      fontFamily: \"Yekan\",\r\n      padding: \"2px\"\r\n    },\r\n    root: {\r\n      padding: theme.spacing(3, 2),\r\n      // margin: theme.spacing(3, 2),\r\n      overflowX: \"auto\"\r\n    },\r\n    addressGrid: {\r\n      padding: theme.spacing(3, 2)\r\n    },\r\n    myFont: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    btn: {\r\n      fontFamily: \"Yekan\",\r\n      textAlign: \"left\",\r\n      margin: theme.spacing(1, 2)\r\n    },\r\n    table: {\r\n      maxWidth: \"100%\"\r\n    },\r\n    tableCell: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    button: {\r\n      marginTop: theme.spacing(1),\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    progressDiv: {\r\n      textAlign: \"center\",\r\n      marginTop: \"3rem\"\r\n    }\r\n  })\r\n);\r\n\r\ninterface IMatchParams {\r\n  id?: string;\r\n}\r\n\r\ninterface ICheckoutProps extends RouteComponentProps<IMatchParams> {\r\n  order?: IOrder;\r\n  orderDetails: IOrderDetail[];\r\n  loadingOrder: boolean;\r\n  payurl?: string;\r\n  changePage: Function;\r\n  loadOrder: Function;\r\n  send2Bank: Function;\r\n}\r\n\r\nconst Checkout: React.FC<ICheckoutProps> = (prop: ICheckoutProps) => {\r\n  const classes = useStyles();\r\n\r\n  const orderId: string | undefined = prop.match.params.id;\r\n\r\n  React.useEffect(() => {\r\n    if (prop.payurl !== undefined) {\r\n      window.location.href = prop.payurl;\r\n    }\r\n\r\n    if (\r\n      prop.order === undefined &&\r\n      orderId !== undefined &&\r\n      orderId !== \"undefined\"\r\n    ) {\r\n      prop.loadOrder(orderId);\r\n    }\r\n  }, [prop, orderId]);\r\n\r\n  const totalPrice: number =\r\n    prop.orderDetails === undefined\r\n      ? 0\r\n      : prop.orderDetails.reduce(\r\n          (sum, od) => sum + (od.count === undefined ? 0 : od.count) * od.price,\r\n          0\r\n        );\r\n\r\n  console.log(\"orderDetails\", prop.orderDetails);\r\n\r\n  return (\r\n    <Container className={classes.root} maxWidth=\"md\">\r\n      <h3 className={classes.mainTitle}>لیست سفارش ها</h3>\r\n\r\n      {prop.loadingOrder ? (\r\n        <div className={classes.progressDiv}>\r\n          <CircularProgress className={classes.progress} />\r\n        </div>\r\n      ) : prop.orderDetails !== undefined && prop.orderDetails.length === 0 ? (\r\n        <Paper className={classes.root}>\r\n          <Typography className={classes.myFont} variant=\"h5\" component=\"h3\">\r\n            سبد خرید خالی هست!\r\n          </Typography>\r\n          <Typography className={classes.myFont} component=\"p\">\r\n            لطفاً کالا یا کالاهایی را انتخاب کنید.\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.btn}\r\n            onClick={() => prop.changePage(process.env.PUBLIC_URL + \"/\")}\r\n          >\r\n            بازگشت به صفحه اصلی\r\n          </Button>\r\n        </Paper>\r\n      ) : (\r\n        <Paper>\r\n          <Table className={classes.table}>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell className={classes.tableCell} align=\"center\">\r\n                  نام محصول\r\n                </TableCell>\r\n                <TableCell className={classes.tableCell} align=\"center\">\r\n                  قیمت هر واحد\r\n                </TableCell>\r\n                <TableCell className={classes.tableCell} align=\"center\">\r\n                  تعداد سفارش\r\n                </TableCell>\r\n                <TableCell className={classes.tableCell} align=\"center\">\r\n                  قیمت\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {prop.orderDetails &&\r\n                prop.orderDetails.map((od: IOrderDetail) => (\r\n                  <TableRow key={od.id}>\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      component=\"td\"\r\n                      scope=\"row\"\r\n                      align=\"center\"\r\n                    >\r\n                      {od.persianTitle}\r\n                    </TableCell>\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      component=\"td\"\r\n                      scope=\"row\"\r\n                      align=\"center\"\r\n                    >\r\n                      {Math.trunc(od.price)} تومان\r\n                    </TableCell>\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      component=\"td\"\r\n                      scope=\"row\"\r\n                      align=\"center\"\r\n                    >\r\n                      {od.count}\r\n                    </TableCell>\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      component=\"td\"\r\n                      scope=\"row\"\r\n                      align=\"center\"\r\n                    >\r\n                      {Math.trunc(od.price * od.count)} تومان\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              <TableRow>\r\n                <TableCell className={classes.tableCell} colSpan={3}>\r\n                  مجموع قیمت ها\r\n                </TableCell>\r\n                <TableCell className={classes.tableCell} align=\"center\">\r\n                  {totalPrice} تومان\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      )}\r\n\r\n      {prop.order !== undefined && (\r\n        <Grid className={classes.addressGrid} container spacing={1}>\r\n          <Grid className={classes.myFont} item md={4} xs={12}>\r\n            شماره سفارش: {prop.order.id}\r\n          </Grid>\r\n          <Grid className={classes.myFont} item md={4} xs={12}>\r\n            نام خریدار: {prop.order.name}\r\n          </Grid>\r\n          <Grid className={classes.myFont} item md={4} xs={12}>\r\n            شماره خریدار: {prop.order.mobile}\r\n          </Grid>\r\n          <Grid className={classes.myFont} item md={4} xs={12}>\r\n            شیوه تحویل: {deliverKindPersianst(prop.order.deliverKind)}\r\n          </Grid>\r\n          {prop.order.address !== \"\" && (\r\n            <Grid className={classes.myFont} item xs={12}>\r\n              آدرس: {prop.order.address}\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      )}\r\n\r\n      {orderId !== undefined && totalPrice > 0 && (\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n          onClick={() => prop.send2Bank(orderId)}\r\n        >\r\n          پرداخت مبلغ\r\n          <CreditCardIcon className={classes.extendedIcon} />\r\n        </Button>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  order: State.shop.order,\r\n  orderDetails: State.shop.orderDetails,\r\n  loadingOrder: State.shop.loadOrder,\r\n  payurl: State.shop.payurl\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  changePage: (url: string) => push(url),\r\n  loadOrder,\r\n  send2Bank\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Checkout);\r\n","import React, { useEffect } from \"react\";\r\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport { IShopState, deliverKindPersianst } from \"../../reducers/shop\";\r\nimport { IAppState, AppPages } from \"../../reducers/app\";\r\nimport { verifyBank } from \"../../actions/shopActions\";\r\nimport { IOrder, IOrderDetail } from \"../../actions/shop\";\r\n\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nconst useStyles: any = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    progressDiv: {\r\n      textAlign: \"center\",\r\n      marginTop: \"3rem\"\r\n    },\r\n    myFont: {\r\n      fontFamily: \"Yekan\"\r\n    },\r\n    btn: {\r\n      fontFamily: \"Yekan\",\r\n      textAlign: \"left\",\r\n      margin: theme.spacing(1, 2)\r\n    },\r\n    addressGrid: {\r\n      padding: theme.spacing(3, 2)\r\n    },\r\n    mainTitle: {\r\n      fontFamily: \"Yekan\",\r\n      textAlign: \"center\"\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(3, 2),\r\n      margin: theme.spacing(3, 2)\r\n    }\r\n  })\r\n);\r\n\r\ninterface IComebackProps extends RouteComponentProps<any> {\r\n  order?: IOrder;\r\n  orderDetails: IOrderDetail[];\r\n  loadingOrder: boolean;\r\n  transId?: string;\r\n  verifyBank: Function;\r\n  changePage: Function;\r\n}\r\n\r\nconst Comeback: React.FC<IComebackProps> = (prop: IComebackProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  const search: string = prop.history.location.search;\r\n  const parsed: queryString.ParsedQuery<string> = queryString.parse(search); //comeback?status=1&token=b5WYow\r\n\r\n  const orderId: string | null = sessionStorage.getItem(\"orderId\");\r\n  console.log(search, prop.order, prop.orderDetails, orderId);\r\n\r\n  useEffect(() => {\r\n    if (prop.transId === undefined && !prop.loadingOrder) {\r\n      prop.verifyBank(parsed.token);\r\n    }\r\n  }, [prop,parsed.token]);\r\n\r\n  // console.log(prop.tabId);\r\n  // is good? or bad\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      {prop.loadingOrder ? (\r\n        <div className={classes.progressDiv}>\r\n          <CircularProgress className={classes.progress} />\r\n        </div>\r\n      ) : prop.transId === undefined || prop.transId === \"\" ? (\r\n        <Paper className={classes.paper}>\r\n          <Typography className={classes.myFont} variant=\"h5\" component=\"h3\">\r\n            اشکال در پرداخت مبلغ\r\n          </Typography>\r\n          <Typography className={classes.myFont} component=\"p\">\r\n            لطفا دوباره تلاش کنید\r\n          </Typography>\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.btn}\r\n            onClick={() => prop.changePage(process.env.PUBLIC_URL + \"/\")}\r\n          >\r\n            بازگشت به صفحه اصلی\r\n          </Button>\r\n          {orderId && orderId.length > 0 && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.btn}\r\n              onClick={() =>\r\n                prop.changePage(\r\n                  process.env.PUBLIC_URL +\r\n                    \"/\" +\r\n                    AppPages.CHECKOUT +\r\n                    \"/\" +\r\n                    orderId\r\n                )\r\n              }\r\n            >\r\n              بازگشت به صفحه سفارش\r\n            </Button>\r\n          )}\r\n        </Paper>\r\n      ) : (\r\n        <React.Fragment>\r\n          <h3 className={classes.mainTitle}>پرداخت موفق</h3>\r\n          {prop.order !== undefined && (\r\n            <Grid className={classes.addressGrid} container spacing={1}>\r\n              <Grid className={classes.myFont} item md={4} xs={12}>\r\n                شماره سفارش: {prop.order.id}\r\n              </Grid>\r\n              <Grid className={classes.myFont} item md={4} xs={12}>\r\n                کد پیگیری: {prop.transId}\r\n              </Grid>\r\n              <Grid className={classes.myFont} item md={4} xs={12}>\r\n                شماره خریدار: {prop.order.mobile}\r\n              </Grid>\r\n              <Grid className={classes.myFont} item md={4} xs={12}>\r\n                نام خریدار: {prop.order.name}\r\n              </Grid>\r\n              <Grid className={classes.myFont} item md={4} xs={12}>\r\n                شیوه خرید: {deliverKindPersianst(prop.order.deliverKind)}\r\n              </Grid>\r\n\r\n              {prop.order.address !== \"\" && (\r\n                <Grid className={classes.myFont} item md={8} xs={12}>\r\n                  آدرس: {prop.order.address}\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          )}\r\n          {prop.orderDetails !== undefined && prop.orderDetails.length !== 0 && (\r\n            <Paper>\r\n              <Table className={classes.table}>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell className={classes.myFont} align=\"center\">\r\n                      نام محصول\r\n                    </TableCell>\r\n                    <TableCell className={classes.myFont} align=\"center\">\r\n                      قیمت هر واحد\r\n                    </TableCell>\r\n                    <TableCell className={classes.myFont} align=\"center\">\r\n                      تعداد سفارش\r\n                    </TableCell>\r\n                    <TableCell className={classes.myFont} align=\"center\">\r\n                      قیمت\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {prop.orderDetails &&\r\n                    prop.orderDetails.map((od: IOrderDetail) => (\r\n                      <TableRow key={od.id}>\r\n                        <TableCell\r\n                          className={classes.myFont}\r\n                          component=\"td\"\r\n                          scope=\"row\"\r\n                          align=\"center\"\r\n                        >\r\n                          {od.persianTitle}\r\n                        </TableCell>\r\n                        <TableCell\r\n                          className={classes.myFont}\r\n                          component=\"td\"\r\n                          scope=\"row\"\r\n                          align=\"center\"\r\n                        >\r\n                          {Math.trunc(od.price)} تومان\r\n                        </TableCell>\r\n                        <TableCell\r\n                          className={classes.myFont}\r\n                          component=\"td\"\r\n                          scope=\"row\"\r\n                          align=\"center\"\r\n                        >\r\n                          {od.count}\r\n                        </TableCell>\r\n                        <TableCell\r\n                          className={classes.myFont}\r\n                          component=\"td\"\r\n                          scope=\"row\"\r\n                          align=\"center\"\r\n                        >\r\n                          {Math.trunc(od.price * od.count)} تومان\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  <TableRow>\r\n                    <TableCell className={classes.myFont} colSpan={3}>\r\n                      مجموع قیمت ها\r\n                    </TableCell>\r\n                    <TableCell className={classes.myFont} align=\"center\">\r\n                      {prop.order !== undefined && prop.order.price} تومان\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableBody>\r\n              </Table>\r\n            </Paper>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  order: State.shop.order,\r\n  orderDetails: State.shop.orderDetails,\r\n  transId: State.shop.transId,\r\n  loadingOrder: State.shop.loadOrder\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  changePage: (url: string) => push(url),\r\n  verifyBank\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Comeback);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport LoyaltyIcon from \"@material-ui/icons/Loyalty\";\r\nimport MeetingRoomIcon from \"@material-ui/icons/MeetingRoom\";\r\nimport NoMeetingRoomIcon from \"@material-ui/icons/NoMeetingRoom\";\r\nimport LocalShippingIcon from \"@material-ui/icons/LocalShipping\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    display: \"flex\"\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  content: {\r\n    flex: \"1 0 auto\"\r\n  },\r\n  cover: {\r\n    width: \"30%\",\r\n    backgroundSize: \"contain\"\r\n  },\r\n  controls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1)\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38\r\n  },\r\n  persianfont: {\r\n    fontFamily: \"Yekan\"\r\n  },\r\n  chip: {\r\n    fontFamily: \"Yekan\",\r\n    // padding: theme.spacing(1),\r\n    margin: \"2px\"\r\n  }\r\n}));\r\n\r\ninterface IMarketCartProp {\r\n  title: string;\r\n  subtitle?: string;\r\n  img: string;\r\n  open: boolean;\r\n  address?: string;\r\n  discount?: number;\r\n  freeDeliver?: boolean;\r\n}\r\n\r\nconst MarketCart: React.FC<IMarketCartProp> = ({\r\n  title,\r\n  subtitle,\r\n  img,\r\n  open,\r\n  address,\r\n  discount,\r\n  freeDeliver\r\n}) => {\r\n  // const MarketCart: React.FC = (title: string, subtitle: string, img: string) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        className={classes.cover}\r\n        image={process.env.PUBLIC_URL + img}\r\n        title=\"Live from space album cover\"\r\n      />\r\n\r\n      <div className={classes.details}>\r\n        <CardContent className={classes.content}>\r\n          <Typography\r\n            className={classes.persianfont}\r\n            component=\"h5\"\r\n            variant=\"h5\"\r\n          >\r\n            {title}\r\n          </Typography>\r\n          {subtitle !== undefined && (\r\n            <Typography\r\n              className={classes.persianfont}\r\n              variant=\"subtitle1\"\r\n              color=\"textSecondary\"\r\n            >\r\n              {subtitle}\r\n            </Typography>\r\n          )}\r\n          {address !== undefined && (\r\n            <Typography\r\n              className={classes.persianfont}\r\n              variant=\"subtitle1\"\r\n              color=\"textSecondary\"\r\n            >\r\n              {address}\r\n            </Typography>\r\n          )}\r\n          {open ? (\r\n            <Chip\r\n              icon={<MeetingRoomIcon />}\r\n              label=\"باز است\"\r\n              clickable\r\n              className={classes.chip}\r\n              variant=\"outlined\"\r\n            />\r\n          ) : (\r\n            <Chip\r\n              icon={<NoMeetingRoomIcon />}\r\n              label=\"بسته است\"\r\n              clickable\r\n              className={classes.chip}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n            />\r\n          )}\r\n          {discount !== undefined && discount > 0 && (\r\n            <Chip\r\n              icon={<LoyaltyIcon />}\r\n              label={discount + \" درصد تخفیف\"}\r\n              clickable\r\n              className={classes.chip}\r\n              color=\"secondary\"\r\n              // variant=\"outlined\"\r\n            />\r\n          )}\r\n          {freeDeliver !== undefined && freeDeliver === true && (\r\n            <Chip\r\n              icon={<LocalShippingIcon />}\r\n              label=\"تحویل رایگان\"\r\n              clickable\r\n              className={classes.chip}\r\n              color=\"primary\"\r\n              // variant=\"outlined\"\r\n            />\r\n          )}\r\n        </CardContent>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MarketCart;\r\n\r\n/*\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    maxWidth: \"100%\"\r\n  },\r\n  media: {\r\n    height: 140\r\n  }\r\n});\r\n\r\nexport default function MediaCard() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          // image=\"/images/group/shopping-cart.png\"\r\n          image={process.env.PUBLIC_URL + \"/images/group/shopping-cart.png\"}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            Lizard\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Lizards are a widespread group of squamate reptiles, with over 6,000\r\n            species, ranging across all continents except Antarctica\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}\r\n*/\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MarketCart from \"./market-cart\";\r\n\r\nimport { IAppState, AppPages } from \"../../../reducers/app\";\r\nimport { IShopState } from \"../../../reducers/shop\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport { loadData } from \"../../../actions/shopActions\";\r\n\r\nimport { IMarketPlus } from \"../../../actions/shop\";\r\n\r\nconst useStyles: any = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  grid: {\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  littleGrid: { cursor: \"pointer\" },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary\r\n  },\r\n  link: {\r\n    textDecoration: \"none\"\r\n  }\r\n}));\r\n\r\ninterface IMatchParams {\r\n  id?: string;\r\n  name?: string;\r\n}\r\n\r\ninterface IMarketProps extends RouteComponentProps<IMatchParams> {\r\n  // tabId?: number;\r\n  // changeTabId: Function;\r\n  // dbInfo?: IDbInfo;\r\n  loadDbInfo: boolean;\r\n  markets: IMarketPlus[];\r\n\r\n  changePage: Function;\r\n  loadData: Function;\r\n}\r\n\r\nconst Market: React.FC<IMarketProps> = (prop: IMarketProps) => {\r\n  const classes: any = useStyles();\r\n\r\n  const groupId: string | undefined = prop.match.params.id;\r\n  // useEffect(() => {\r\n  //   prop.changeTabId(0);\r\n  // });\r\n\r\n  // console.log(prop.tabId);\r\n  const markets: IMarketPlus[] = prop.markets.filter(\r\n    (m: IMarketPlus) => Number(m.groups_id) === Number(groupId)\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    // prop.changeTabId(0);\r\n    if (prop.loadDbInfo === false) {\r\n      prop.loadData();\r\n    }\r\n  }, [prop]);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Grid\r\n        className={classes.grid}\r\n        container\r\n        spacing={3}\r\n        justify=\"space-around\"\r\n        alignItems=\"stretch\"\r\n      >\r\n        {markets.map((market: IMarketPlus) => (\r\n          <Grid\r\n            className={classes.littleGrid}\r\n            key={market.id}\r\n            item\r\n            xs={12}\r\n            sm={6}\r\n            onClick={() =>\r\n              prop.changePage(\r\n                market.enabled\r\n                  ? \"/\" +\r\n                      AppPages.PRODUCT +\r\n                      \"/\" +\r\n                      market.id +\r\n                      \"/\" +\r\n                      market.title\r\n                  : \"/\" + AppPages.SOON\r\n              )\r\n            }\r\n          >\r\n            <MarketCart\r\n              title={market.persianTitle}\r\n              subtitle={market.persianSubtitle}\r\n              img={market.img}\r\n              open={market.isOpen}\r\n              address={market.address}\r\n              discount={market.discount}\r\n              freeDeliver={market.freeDeliver}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n  // tabId: State.app.tabId,\r\n  // dbInfo: State.shop.dbInfo,\r\n  markets: State.shop.markets,\r\n  loadDbInfo: State.shop.loadDbInfo\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  // changeTabId: changeTabId\r\n  loadData,\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Market);\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\n\r\nimport Main from \"./pages/mainPage/main\";\r\nimport NotFound from \"./pages/notFound\";\r\nimport About from \"./pages/about\";\r\nimport Product from \"./pages/product\";\r\nimport MainHeader from \"./headers/main-header\";\r\nimport Soon from \"./pages/soon\";\r\nimport Address from \"./pages/address\";\r\nimport Checkout from \"./pages/checkout\";\r\nimport Comeback from \"./pages/comeback\";\r\nimport Market from \"./pages/marketsPage/market\";\r\n\r\nimport { push } from \"connected-react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { IAppState, AppPages } from \"../reducers/app\";\r\nimport { IShopState } from \"../reducers/shop\";\r\n\r\nimport \"./App.css\";\r\n\r\ninterface IAppProps {\r\n  tabId?: number;\r\n  changePage: Function;\r\n}\r\n\r\nconst App: React.FC<IAppProps> = (prop: IAppProps) => {\r\n  // console.log(\"app:\", prop.tabId);\r\n  return (\r\n    <div className=\"App\">\r\n      <MainHeader />\r\n      <section>\r\n        <Switch>\r\n          <Route exact path={process.env.PUBLIC_URL + \"/\"} component={Main} />\r\n          <Route\r\n            exact\r\n            path={process.env.PUBLIC_URL + \"/\" + AppPages.ABOUT}\r\n            component={About}\r\n          />\r\n          <Route\r\n            exact\r\n            path={process.env.PUBLIC_URL + \"/\" + AppPages.MARKET + \"/:id/:name\"}\r\n            component={(props: any) => <Market {...props} />}\r\n          />\r\n          <Route\r\n            exact\r\n            path={\r\n              process.env.PUBLIC_URL + \"/\" + AppPages.PRODUCT + \"/:id/:name\"\r\n            }\r\n            component={(props: any) => <Product {...props} />}\r\n          />\r\n          <Route\r\n            exact\r\n            path={process.env.PUBLIC_URL + \"/\" + AppPages.SOON}\r\n            component={Soon}\r\n          />\r\n          <Route\r\n            exact\r\n            path={process.env.PUBLIC_URL + \"/\" + AppPages.ADDRESS + \"/:id\"}\r\n            component={(props: any) => <Address {...props} />}\r\n          />\r\n          <Route\r\n            exact\r\n            path={process.env.PUBLIC_URL + \"/\" + AppPages.CHECKOUT + \"/:id\"}\r\n            component={(props: any) => <Checkout {...props} />}\r\n          />\r\n          <Route\r\n            exact\r\n            path={\r\n              process.env.PUBLIC_URL + \"/\" + AppPages.COMEBACK\r\n              // + \"?status=:st&token=:tk\"\r\n            }\r\n            component={(props: any) => <Comeback {...props} />}\r\n          />\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n      </section>\r\n      {/* <footer>\r\n        <p>footer</p>\r\n      </footer> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (State: { app: IAppState; shop: IShopState }) => ({\r\n  // cart: State.shop.cart\r\n  tabId: State.app.pageId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  // changePage: changePage\r\n  changePage: (url: string) => push(url)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n\r\n// https://reacttraining.com/react-router/web/guides/basic-components\r\n\r\n// https://github.com/material-components/material-components-web-react\r\n// https://react-mdc.github.io/#/\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ActionTypes } from \"../actions/actionTypes\";\r\nimport { IAppState, INITIAL_APPSTATE } from \"./app\";\r\nimport { Reducer } from \"redux\";\r\n\r\nconst AppReducer: Reducer<IAppState, { type: any; payload: any }> = (\r\n  state = INITIAL_APPSTATE,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.CHANGE_PAGE:\r\n      const newPage: any = action.payload.newPage;\r\n      return {\r\n        ...state,\r\n        pageName: newPage\r\n      };\r\n    case ActionTypes.CHANGE_TAB_ID:\r\n      const tabId: number = action.payload.tabId;\r\n      return {\r\n        ...state,\r\n        tabId: tabId\r\n      };\r\n    //     case UPDATE_PAGE:\r\n    //       return {\r\n    //         ...state,\r\n    //         page: action.page,\r\n    //         pageName: action.pageName\r\n    //       };\r\n    //     case UPDATE_OFFLINE:\r\n    //       return {\r\n    //         ...state,\r\n    //         offline: action.offline\r\n    //       };\r\n    //     case UPDATE_DRAWER_STATE:\r\n    //       return {\r\n    //         ...state,\r\n    //         drawerOpened: action.opened\r\n    //       };\r\n    //     case OPEN_SNACKBAR:\r\n    //       return {\r\n    //         ...state,\r\n    //         snackbarOpened: true\r\n    //       };\r\n    //     case CLOSE_SNACKBAR:\r\n    //       return {\r\n    //         ...state,\r\n    //         snackbarOpened: false\r\n    //       };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AppReducer;\r\n","import { ActionTypes } from \"../actions/actionTypes\";\r\nimport { Reducer } from \"redux\";\r\nimport { Moment } from \"moment-jalaali\";\r\nimport {\r\n  IShopState,\r\n  INITIAL_SHOPSTATE,\r\n  ICartState,\r\n  IDeliverState\r\n} from \"./shop\";\r\n\r\nconst ShopReducer: Reducer<IShopState, { type: any; payload: any }> = (\r\n  state = INITIAL_SHOPSTATE,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.CHANGE_PAGE:\r\n      const newPage: any = action.payload.newPage;\r\n      return {\r\n        ...state,\r\n        pageName: newPage\r\n      };\r\n\r\n    case ActionTypes.ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        lastMarketId: action.payload.marketId,\r\n        // products: state.products,\r\n        cart: cart(state.cart, action)\r\n        // deliver: state.deliver,\r\n        // error: state.error\r\n      };\r\n    case ActionTypes.REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        // lastMarketId:MarketId(action),\r\n        // products: state.products,\r\n        cart: cart(state.cart, action)\r\n        // deliver: state.deliver,\r\n        // error: state.error\r\n      };\r\n\r\n    case ActionTypes.TRY_LOADING_INIT:\r\n      return {\r\n        ...state,\r\n        loadingDbInfo: true\r\n      };\r\n    case ActionTypes.SUCCESS_LOAD_INIT:\r\n      return {\r\n        ...state,\r\n        // dbInfo: action.payload.info,\r\n        groups: action.payload.groups,\r\n        markets: action.payload.markets,\r\n        openTimes: action.payload.openTimes,\r\n        products: action.payload.products,\r\n\r\n        loadingDbInfo: false,\r\n        loadDbInfo: true\r\n      };\r\n    case ActionTypes.FAILED_LOAD_INIT:\r\n      return {\r\n        ...state,\r\n        loadingDbInfo: false,\r\n        loadDbInfo: false\r\n      };\r\n\r\n    case ActionTypes.CHANGE_DELIVERKIND:\r\n    case ActionTypes.CHANGE_DELIVERDISTRICT:\r\n    case ActionTypes.CHANGE_MOBILE:\r\n    case ActionTypes.CHANGE_FULLNAME:\r\n    case ActionTypes.CHANGE_ADDRESS:\r\n    case ActionTypes.CHANGE_DATE:\r\n    case ActionTypes.CHANGE_TIME:\r\n    case ActionTypes.TRY_LOADING_USER_INFO:\r\n    case ActionTypes.SUCCESS_LOAD_USER_INFO:\r\n    case ActionTypes.FAILED_LOAD_USER_INFO:\r\n    case ActionTypes.TRY_LOADING_LOCATION:\r\n    case ActionTypes.SUCCESS_LOAD_LOCATION:\r\n    case ActionTypes.FAILED_LOAD_LOCATION:\r\n      return {\r\n        ...state,\r\n        // lastMarketId:MarketId(action),\r\n        // products: state.products,\r\n        // cart: cart(state.cart, action),\r\n        deliver: deliver(state.deliver, action)\r\n        // error: state.error\r\n      };\r\n    case ActionTypes.TRY_MAKING_ORDER:\r\n    case ActionTypes.TRY_LOADING_ORDER:\r\n    case ActionTypes.TRY_SENDING_ORDER_TO_BANK:\r\n    case ActionTypes.TRY_VERIFY_BANK:\r\n      return {\r\n        ...state,\r\n        loadOrder: true\r\n      };\r\n    case ActionTypes.SUCCESS_MAKE_ORDER:\r\n    case ActionTypes.SUCCESS_LOAD_ORDER:\r\n      return {\r\n        ...state,\r\n        order: action.payload.order,\r\n        orderDetails: action.payload.orderDetails,\r\n        payurl: undefined,\r\n        loadOrder: false\r\n      };\r\n    case ActionTypes.SUCCESS_VERIFY_BANK:\r\n      return {\r\n        ...state,\r\n        order: action.payload.order,\r\n        orderDetails: action.payload.orderDetails,\r\n        transId: action.payload.transId,\r\n        loadOrder: false\r\n      };\r\n    case ActionTypes.FAILED_MAKE_ORDER:\r\n    case ActionTypes.FAILED_LOAD_ORDER:\r\n    case ActionTypes.FAILED_SEND_ORDER_TO_BANK:\r\n    case ActionTypes.FAILED_VERIFY_BANK:\r\n      return {\r\n        ...state,\r\n        transId:\"\",\r\n        loadOrder: false\r\n      };\r\n    case ActionTypes.SUCCESS_SEND_ORDER_TO_BANK:\r\n      return {\r\n        ...state,\r\n        payurl: action.payload.payurl,\r\n        loadOrder: false\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst cart: any = (state: ICartState, action: { type: any; payload: any }) => {\r\n  switch (action.type) {\r\n    case ActionTypes.ADD_TO_CART:\r\n      const addId: string = action.payload.productId;\r\n      // check max\r\n      // const quant = (state[addId] || 0);\r\n      // const prod = PRODUCT_LIST.find(x=>x.id === addId);\r\n      // const max = prod!==undefined ? prod.max : undefined;\r\n      // if(max !== undefined && quant>=max){\r\n      //   return {\r\n      //     ...state,\r\n      //     [addId]: max\r\n      //   };\r\n      // }\r\n      return {\r\n        ...state,\r\n        [addId]: (state[addId] || 0) + 1\r\n      };\r\n\r\n    case ActionTypes.REMOVE_FROM_CART:\r\n      const removeId: string = action.payload.productId;\r\n      const quantity: number = (state[removeId] || 0) - 1;\r\n      if (quantity <= 0) {\r\n        const newState: ICartState = { ...state };\r\n        delete newState[removeId];\r\n        return newState;\r\n      } else {\r\n        return {\r\n          ...state,\r\n          [removeId]: quantity\r\n        };\r\n      }\r\n\r\n    // case CHECKOUT_SUCCESS:\r\n    //   return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst deliver: any = (\r\n  state: IDeliverState,\r\n  action: { type: any; payload: any }\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.CHANGE_DELIVERKIND:\r\n      const deliverKind: string = action.payload.deliverKind;\r\n      return {\r\n        ...state,\r\n        deliverKind: deliverKind\r\n      };\r\n\r\n    case ActionTypes.CHANGE_DELIVERDISTRICT:\r\n      const deliverDistrict: string = action.payload.deliverDistrict;\r\n      return {\r\n        ...state,\r\n        deliverDistrict: deliverDistrict\r\n      };\r\n\r\n    case ActionTypes.CHANGE_MOBILE:\r\n      const mobile: string = action.payload.mobile;\r\n      return {\r\n        ...state,\r\n        mobile: mobile\r\n      };\r\n\r\n    case ActionTypes.CHANGE_FULLNAME:\r\n      const fullname: string = action.payload.fullname;\r\n      return {\r\n        ...state,\r\n        fullname: fullname\r\n      };\r\n\r\n    case ActionTypes.CHANGE_ADDRESS:\r\n      const address: string = action.payload.address;\r\n      return {\r\n        ...state,\r\n        address: address\r\n      };\r\n\r\n    case ActionTypes.CHANGE_DATE:\r\n      const new_date: Moment = action.payload.date;\r\n      const new_datetime1: Moment = state.date\r\n        .set(\"year\", new_date.year())\r\n        .set(\"month\", new_date.month())\r\n        .set(\"date\", new_date.date());\r\n      return {\r\n        ...state,\r\n        date: new_datetime1\r\n      };\r\n\r\n    case ActionTypes.CHANGE_TIME:\r\n      const new_time: Moment = action.payload.date;\r\n      const new_datetime2: Moment = state.date\r\n        .set(\"hour\", new_time.hour())\r\n        .set(\"minute\", new_time.minute());\r\n      return {\r\n        ...state,\r\n        date: new_datetime2\r\n      };\r\n\r\n    case ActionTypes.TRY_LOADING_USER_INFO:\r\n      return {\r\n        ...state,\r\n        loadingInfo: true\r\n      };\r\n    case ActionTypes.SUCCESS_LOAD_USER_INFO:\r\n      const fullname1: string = action.payload.fullname;\r\n      const address1: string = action.payload.address;\r\n      const district1: string = action.payload.district;\r\n      return {\r\n        ...state,\r\n        fullname: fullname1,\r\n        address: address1,\r\n        deliverDistrict: district1,\r\n        loadingInfo: false\r\n      };\r\n    case ActionTypes.FAILED_LOAD_USER_INFO:\r\n      console.log(action.payload.error);\r\n      return {\r\n        ...state,\r\n        loadingInfo: false\r\n      };\r\n    case ActionTypes.TRY_LOADING_LOCATION:\r\n      return {\r\n        ...state,\r\n        loadinglocation: true\r\n      };\r\n    case ActionTypes.SUCCESS_LOAD_LOCATION:\r\n      const address2: string = action.payload.address;\r\n      const location: Position = action.payload.location;\r\n      return {\r\n        ...state,\r\n        address: address2,\r\n        location: location,\r\n        loadinglocation: false\r\n      };\r\n    case ActionTypes.FAILED_LOAD_LOCATION:\r\n      console.log(action.payload.error);\r\n      return {\r\n        ...state,\r\n        loadinglocation: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ShopReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport AppReducer from \"./appReducer\";\r\nimport ShopReducer from \"./shopReducer\";\r\n\r\nconst createRootReducer = (history:any) => combineReducers({\r\n  router: connectRouter(history),\r\n  app: AppReducer,\r\n  shop: ShopReducer,\r\n})\r\nexport default createRootReducer\r\n","import { createBrowserHistory } from \"history\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { routerMiddleware } from \"connected-react-router\";\r\nimport thunk from \"redux-thunk\";\r\nimport createRootReducer from \"../reducers/rootReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport default function configureStore(initialState: any) {\r\n  const store = createStore(\r\n    createRootReducer(history), // root reducer with router state\r\n    initialState,\r\n    composeWithDevTools(\r\n      applyMiddleware(\r\n        routerMiddleware(history), // for dispatching history actions\r\n        thunk\r\n        // ... other middlewares ...\r\n      )\r\n    )\r\n  );\r\n\r\n  return store;\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.css\";\r\n\r\nimport App from \"./components/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport configureStore, { history } from \"./store/configureStore\";\r\n\r\nconst store = configureStore({} /* provide initial state if any */);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      {/* place ConnectedRouter under Provider */}\r\n      <>\r\n        {/* your usual react-router v4/v5 routing */}\r\n        {/* <Switch>\r\n          <Route exact path=\"/\" render={() => (<div>Match</div>)} />\r\n          <Route render={() => (<div>Miss</div>)} />\r\n        </Switch>*/}\r\n        <App />\r\n      </>\r\n    </ConnectedRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// serviceWorker.unregister();\r\nserviceWorker.register();\r\n"],"sourceRoot":""}